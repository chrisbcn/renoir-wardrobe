!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e||self).analyticsSdk={})}(this,function(e){function n(){return window.location.pathname.split("/")[1]}var t=function(e){var n=e.country,t=e.currency,r=e.exchangeRate;this.country=void 0,this.currency=void 0,this.exchangeRate=void 0,this.country=n,this.currency=t,this.exchangeRate=r},r=/*#__PURE__*/function(){function e(){}var n=e.prototype;return n.getViewItemProduct=function(e){var n,t=null==(n=window.dataLayer)?void 0:n.flatMap(function(e){return"view_item"===(null==e?void 0:e.event)?e.items:[]});return e?null==t?void 0:t.find(function(n){return n.item_id==e}):null==t?void 0:t[0]},n.getViewItemListProduct=function(e){var n,t=null==(n=window.dataLayer)?void 0:n.flatMap(function(e){return"view_item_list"===(null==e?void 0:e.event)?e.items:[]});return e?null==t?void 0:t.find(function(n){return n.item_id==e}):null==t?void 0:t[0]},n.getDeliveryMethod=function(){var e,n;return null==(e=window.dataLayer)||null==(n=e.reverse().find(function(e){return e.main_shipping_option}))?void 0:n.main_shipping_option},n.push=function(e){var n;null==(n=window.dataLayer)||n.push(e)},e}();function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function i(e){throw new Error(e)}r.dataLayer=new r;var a="genericEvent",c=/*#__PURE__*/function(){function e(e,n,t,r,o,i){this.event=void 0,this.category=void 0,this.action=void 0,this.label=void 0,this.country=void 0,this.genericEventData=void 0,this.event=e,this.category=n,this.action=t,this.label=r,this.country=o,this.genericEventData=i}return e.prototype.clearEventData=function(){return{genericEventData:void 0}},e}();function u(e,n,t){return{name:"simpleTrackEvent",event:{category:e,action:n,label:t}}}function l(e,n){var t,r,c,u=e.event;return u||i("Error: event not found"),o({event:a,category:null!=(t=u.category)?t:i("Error: category in genericEvent is null or undefined"),action:null!=(r=u.action)?r:i("Error: action in genericEvent is null or undefined"),label:null!=(c=u.label)?c:"",country:n},u.actionElement&&{actionElement:u.actionElement})}function s(e,n,t){e.push(l(n,t.country))}var d=/*#__PURE__*/function(){function e(e){this.dataLayer=void 0,this.dataLayer=e}return e.prototype.push=function(e){this.dataLayer.push(e),e instanceof c&&this.dataLayer.push(e.clearEventData())},e}(),v={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},f=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];Object.prototype.hasOwnProperty.call(v,e)||(e=v.log),f[e].apply(f,n)};f.debug=console.debug.bind(console),f.log=console.log.bind(console),f.info=console.info.bind(console),f.warn=console.warn.bind(console),f.error=console.error.bind(console);var p,y,g,m,h,k=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},b=!1;function C(e){b=e}function w(e,n,t){var r=t.value;t.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=p?S(r):r;return t.apply(this,e)}}function S(e){return function(){return _(e,this,arguments)}}function _(e,n,t){try{return e.apply(n,t)}catch(e){if(E(v.error,e),p)try{p(e)}catch(e){E(v.error,e)}}}function E(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];b&&f.apply(void 0,k([e,"[MONITOR]"],n,!1))}function O(e,n,t){var r,o,i=!t||void 0===t.leading||t.leading,a=!t||void 0===t.trailing||t.trailing,c=!1;return{throttled:function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];c?r=t:(i?e.apply(void 0,t):r=t,c=!0,o=setTimeout(function(){a&&r&&e.apply(void 0,r),c=!1,r=void 0},n))},cancel:function(){clearTimeout(o),c=!1,r=void 0}}}function A(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.forEach(function(n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}),e}function T(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,T)}function P(e){return 0!==e&&100*Math.random()<=e}function x(){}function L(e,n,t){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=D(Object.prototype),o=D(Array.prototype),i=D(Object.getPrototypeOf(e)),a=D(e);try{return JSON.stringify(e,n,t)}catch(e){return"<error: unable to serialize object>"}finally{r(),o(),i(),a()}}function D(e){var n=e,t=n.toJSON;return t?(delete n.toJSON,function(){n.toJSON=t}):x}function I(e,n){return-1!==e.indexOf(n)}function R(e){if(Array.from)return Array.from(e);var n=[];if(e instanceof Set)e.forEach(function(e){return n.push(e)});else for(var t=0;t<e.length;t++)n.push(e[t]);return n}function M(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function B(e){return Object.keys(e).map(function(n){return e[n]})}function F(e){return 0===Object.keys(e).length}function N(e,n){return e.slice(0,n.length)===n}function z(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function G(e,n,t){void 0===t&&(t="");var r=e.charCodeAt(n-1),o=r>=55296&&r<=56319?n+1:n;return e.length<=o?e:"".concat(e.slice(0,o)).concat(t)}function U(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function V(e,n,t){if(void 0===t&&(t=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(n){var t=e.has(n);return t||e.add(n),t}}}var n=[];return{hasAlreadyBeenSeen:function(e){var t=n.indexOf(e)>=0;return t||n.push(e),t}}}()),void 0===n)return e;if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){var r=n.flags||[n.global?"g":"",n.ignoreCase?"i":"",n.multiline?"m":"",n.sticky?"y":"",n.unicode?"u":""].join("");return new RegExp(n.source,r)}if(!t.hasAlreadyBeenSeen(n)){if(Array.isArray(n)){for(var o=Array.isArray(e)?e:[],i=0;i<n.length;++i)o[i]=V(o[i],n[i],t);return o}var a="object"===U(e)?e:{};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(a[c]=V(a[c],n[c],t));return a}}function q(e){return V(void 0,e)}function j(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=0,o=n;r<o.length;r++){var i=o[r];null!=i&&(e=V(e,i))}return e}function H(e,n,t,r){var o=new Date;o.setTime(o.getTime()+t);var i="expires=".concat(o.toUTCString()),a=r&&r.crossSite?"none":"strict",c=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"";document.cookie="".concat(e,"=").concat(n,";").concat(i,";path=/;samesite=").concat(a).concat(c).concat(u)}function W(e){return function(e,n){var t=new RegExp("(?:^|;)\\s*".concat(n,"\\s*=\\s*([^;]+)")).exec(e);return t?t[1]:void 0}(document.cookie,e)}function K(e,n){H(e,"",0,n)}function J(e,n){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return e.apply(void 0,t)}catch(e){f.error(n,e)}}}function Z(){return(new Date).getTime()}function $(){return Z()}function X(){return performance.now()}function Y(){return{relative:X(),timeStamp:$()}}function Q(){return void 0===m&&(m=performance.timing.navigationStart),m}function ee(e){return function(e,n){if(function(){if(void 0!==h)return h;try{var e=new URL("http://test/path");return h="http://test/path"===e.href}catch(e){h=!1}return h}())return void 0!==n?new URL(e,n):new URL(e);if(void 0===n&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var t=document,r=t.createElement("a");if(void 0!==n){var o=(t=document.implementation.createHTMLDocument("")).createElement("base");o.href=n,t.head.appendChild(o),t.body.appendChild(r)}return r.href=e,r}(e,function(e){if(e.origin)return e.origin;var n=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(n)}(window.location)).href}var ne="datadoghq.com",te={logs:"logs",rum:"rum",sessionReplay:"session-replay"},re={logs:"logs",rum:"rum",sessionReplay:"replay"};function oe(e,n,t){var r=e.clientToken,o=function(e,n){var t=e.site,r=void 0===t?ne:t,o=e.internalAnalyticsSubdomain;if(o&&r===ne)return"".concat(o,".").concat(ne);var i=r.split("."),a=i.pop();return"".concat(te[n],".browser-intake-").concat(i.join("-"),".").concat(a)}(e,n),i="https://".concat(o,"/api/v2/").concat(re[n]),a=e.proxyUrl&&ee(e.proxyUrl);return{build:function(o,c){var u=["sdk_version:".concat("4.30.0"),"api:".concat(o)].concat(t);c&&u.push("retry_count:".concat(c.count),"retry_after:".concat(c.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(u.join(","))),"dd-api-key=".concat(r),"dd-evp-origin-version=".concat(encodeURIComponent("4.30.0")),"dd-evp-origin=browser","dd-request-id=".concat(T())];"rum"===n&&l.push("batch_time=".concat($())),e.internalAnalyticsSubdomain&&l.reverse();var s="".concat(i,"?").concat(l.join("&"));return a?"".concat(a,"?ddforward=").concat(encodeURIComponent(s)):s},buildIntakeUrl:function(){return a?"".concat(a,"?ddforward"):i},endpointType:n}}var ie=/[^a-z0-9_:./-]/;function ae(e,n){(n.length>200-e.length-1||ie.test(n))&&f.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var t=n.replace(/,/g,"_");return"".concat(e,":").concat(t)}function ce(e){var n={};return n.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),n.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(n.domain=function(){if(void 0===y){for(var e="dd_site_test_".concat(T()),n=window.location.hostname.split("."),t=n.pop();n.length&&!W(e);)H(e,"test",1e3,{domain:t="".concat(n.pop(),".").concat(t)});K(e,{domain:t}),y=t}return y}()),n}var ue="?";function le(e){var n=[],t=he(e,"stack"),r=String(e);return t&&N(t,r)&&(t=t.slice(r.length)),t&&t.split("\n").forEach(function(e){var t=function(e){var n=ve.exec(e);if(n){var t=n[2]&&0===n[2].indexOf("native"),r=n[2]&&0===n[2].indexOf("eval"),o=fe.exec(n[2]);return r&&o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3]),{args:t?[n[2]]:[],column:n[4]?+n[4]:void 0,func:n[1]||ue,line:n[3]?+n[3]:void 0,url:t?void 0:n[2]}}}(e)||function(e){var n=pe.exec(e);if(n)return{args:[],column:n[3]?+n[3]:void 0,func:ue,line:n[2]?+n[2]:void 0,url:n[1]}}(e)||function(e){var n=ye.exec(e);if(n)return{args:[],column:n[4]?+n[4]:void 0,func:n[1]||ue,line:+n[3],url:n[2]}}(e)||function(e){var n=ge.exec(e);if(n){var t=n[3]&&n[3].indexOf(" > eval")>-1,r=me.exec(n[3]);return t&&r&&(n[3]=r[1],n[4]=r[2],n[5]=void 0),{args:n[2]?n[2].split(","):[],column:n[5]?+n[5]:void 0,func:n[1]||ue,line:n[4]?+n[4]:void 0,url:n[3]}}}(e);t&&(!t.func&&t.line&&(t.func=ue),n.push(t))}),{message:he(e,"message"),name:he(e,"name"),stack:n}}var se="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",de="(?::(\\d+))",ve=new RegExp("^\\s*at (.*?) ?\\(".concat(se).concat(de,"?").concat(de,"?\\)?\\s*$"),"i"),fe=new RegExp("\\((\\S*)".concat(de).concat(de,"\\)")),pe=new RegExp("^\\s*at ?".concat(se).concat(de,"?").concat(de,"??\\s*$"),"i"),ye=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ge=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,me=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function he(e,n){if("object"==typeof e&&e&&n in e){var t=e[n];return"string"==typeof t?t:void 0}}function ke(e,n,t){var r=e[n],o=t(r),i=function(){if("function"==typeof o)return o.apply(this,arguments)};return e[n]=i,{stop:function(){e[n]===i?e[n]=r:o=r}}}function be(e,n,t){var r=t.before,o=t.after;return ke(e,n,function(e){return function(){var n,t=arguments;return r&&_(r,this,t),"function"==typeof e&&(n=e.apply(this,t)),o&&_(o,this,t),n}})}var Ce=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/,we="agent",Se="console",_e="logger",Ee="network",Oe="source",Ae="report";function Te(e){var n=Pe(e);return e.stack.forEach(function(e){var t="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",o=e.line?":".concat(e.line):"",i=e.line&&e.column?":".concat(e.column):"";n+="\n  at ".concat(t).concat(r," @ ").concat(e.url).concat(o).concat(i)}),n}function Pe(e){return"".concat(e.name||"Error",": ").concat(e.message)}function xe(){var e,n=new Error;if(!n.stack)try{throw n}catch(e){}return _(function(){var t=le(n);t.stack=t.stack.slice(2),e=Te(t)}),e}function Le(e,n){for(var t=e,r=[];(null==t?void 0:t.cause)instanceof Error&&r.length<10;){var o=le(t.cause);r.push({message:t.cause.message,source:n,type:null==o?void 0:o.name,stack:o&&Te(o)}),t=t.cause}return r.length?r:void 0}var De=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var n=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){n.observers=n.observers.filter(function(n){return e!==n}),!n.observers.length&&n.onLastUnsubscribe&&n.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach(function(n){return n(e)})},e}();function Ie(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=new De(function(){var n=e.map(function(e){return e.subscribe(function(e){return t.notify(e)})});return function(){return n.forEach(function(e){return e.unsubscribe()})}});return t}function Re(e,n){var t,r=window;return r.Zone&&"function"==typeof r.Zone.__symbol__&&(t=e[r.Zone.__symbol__(n)]),t||(t=e[n]),t}function Me(e,n){var t=window.__ddBrowserSdkExtensionCallback;t&&t({type:e,payload:n})}var Be,Fe=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],Ne=["ddog-gov.com"],ze={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function Ge(e,n){E(v.debug,e,n),Ve(A({type:"log",message:e,status:"debug"},n))}function Ue(e){Ve(A({type:"log",status:"error"},function(e){if(e instanceof Error){var n=le(e);return{error:{kind:n.name,stack:Te(qe(n))},message:n.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(L(e))}}(e)))}function Ve(e){Be&&ze.sentEventCount<ze.maxEventsPerPage&&(ze.sentEventCount+=1,Be(e))}function qe(e){return e.stack=e.stack.filter(function(e){return!e.url||Fe.some(function(n){return N(e.url,n)})}),e}function je(e,n,t,r){return He(e,[n],t,r)}function He(e,n,t,r){var o=void 0===r?{}:r,i=o.once,a=o.capture,c=o.passive,u=S(function(e){i&&d(),function(e){var n=e.type;e.isTrusted||window.jasmine||We.has(n)||(We.add(n),Ge("Untrusted event",{event_type:n}))}(e),t(e)}),l=c?{capture:a,passive:c}:a,s=Re(e,"addEventListener");function d(){var t=Re(e,"removeEventListener");n.forEach(function(n){return t.call(e,n,u,l)})}return n.forEach(function(n){return s.call(e,n,u,l)}),{stop:d}}var We=new Set,Ke={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Je(e,n,t,r,o){return t&&Te({name:e,message:n,stack:[{func:"?",url:t,line:r,column:o}]})}var Ze,$e=Infinity,Xe=function(){function e(e){var n=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return n.clearOldContexts()},6e4)}return e.prototype.add=function(e,n){var t=this,r={context:e,startTime:n,endTime:$e,remove:function(){var e=t.entries.indexOf(r);e>=0&&t.entries.splice(e,1)},close:function(e){r.endTime=e}};return this.entries.unshift(r),r},e.prototype.find=function(e){void 0===e&&(e=$e);for(var n=0,t=this.entries;n<t.length;n++){var r=t[n];if(r.startTime<=e){if(e<=r.endTime)return r.context;break}}},e.prototype.closeActive=function(e){var n=this.entries[0];n&&n.endTime===$e&&n.close(e)},e.prototype.findAll=function(e){return void 0===e&&(e=$e),this.entries.filter(function(n){return n.startTime<=e&&e<=n.endTime}).map(function(e){return e.context})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var e=X()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}(),Ye=9e5,Qe=/^([a-z]+)=([a-z0-9-]+)$/,en="_dd_s",nn=[];function tn(e,n){var t;if(void 0===n&&(n=0),Ze||(Ze=e),e===Ze)if(n>=100)an();else{var r,o=ln();if(rn()){if(o.lock)return void on(e,n);if(r=T(),o.lock=r,un(o,e.options),(o=ln()).lock!==r)return void on(e,n)}var i=e.process(o);if(rn()&&(o=ln()).lock!==r)on(e,n);else{if(i&&cn(i,e.options),rn()&&(!i||!sn(i))){if((o=ln()).lock!==r)return void on(e,n);delete o.lock,un(o,e.options),i=o}null===(t=e.after)||void 0===t||t.call(e,i||o),an()}}else nn.push(e)}function rn(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}function on(e,n){setTimeout(S(function(){tn(e,n+1)}),10)}function an(){Ze=void 0;var e=nn.shift();e&&tn(e)}function cn(e,n){sn(e)?function(e){H(en,"",0,e)}(n):(e.expire=String(Z()+Ye),un(e,n))}function un(e,n){H(en,function(e){return(n=e,Object.keys(n).map(function(e){return[e,n[e]]})).map(function(e){var n=e[1];return"".concat(e[0],"=").concat(n)}).join("&");var n}(e),Ye,n)}function ln(){var e=W(en),n={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||Qe.test(e))}(e)&&e.split("&").forEach(function(e){var t=Qe.exec(e);null!==t&&(n[t[1]]=t[2])}),n}function sn(e){return F(e)}function dn(e,n,t,r,o){0===n.transportStatus&&0===n.queuedPayloads.size()&&n.bandwidthMonitor.canHandle(e)?fn(e,n,t,{onSuccess:function(){return pn(0,n,t,r,o)},onFailure:function(){n.queuedPayloads.enqueue(e),vn(n,t,r,o)}}):n.queuedPayloads.enqueue(e)}function vn(e,n,t,r){2===e.transportStatus&&setTimeout(S(function(){fn(e.queuedPayloads.first(),e,n,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=1e3,pn(1,e,n,t,r)},onFailure:function(){e.currentBackoffTime=Math.min(6e4,2*e.currentBackoffTime),vn(e,n,t,r)}})}),e.currentBackoffTime)}function fn(e,n,t,r){var o=r.onSuccess,i=r.onFailure;n.bandwidthMonitor.add(e),t(e,function(t){n.bandwidthMonitor.remove(e),function(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||e.status>=500)}(t)?(n.transportStatus=n.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:t.status},i()):(n.transportStatus=0,o())})}function pn(e,n,t,r,o){0===e&&n.queuedPayloads.isFull()&&!n.queueFullReported&&(o({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:we,startClocks:Y()}),n.queueFullReported=!0);var i=n.queuedPayloads;for(n.queuedPayloads=yn();i.size()>0;)dn(i.dequeue(),n,t,r,o)}function yn(){var e=[];return{bytesCount:0,enqueue:function(n){this.isFull()||(e.push(n),this.bytesCount+=n.bytesCount)},first:function(){return e[0]},dequeue:function(){var n=e.shift();return n&&(this.bytesCount-=n.bytesCount),n},size:function(){return e.length},isFull:function(){return this.bytesCount>=3145728}}}var gn=!1;function mn(e,n,t){var r=new XMLHttpRequest,o=S(function(){r.removeEventListener("loadend",o),null==t||t({status:r.status})});r.open("POST",e,!0),r.addEventListener("loadend",o),r.send(n)}var hn,kn=/[^\u0000-\u007F]/,bn=function(){function e(e,n,t,r,o,i){var a=this;this.request=e,this.batchMessagesLimit=n,this.batchBytesLimit=t,this.messageBytesLimit=r,this.flushTimeout=o,this.pageExitObservable=i,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,i.subscribe(function(){return a.flush(a.request.sendOnExit)}),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,n){this.addOrUpdate(e,n)},e.prototype.flush=function(e){if(void 0===e&&(e=this.request.send),0!==this.bufferMessagesCount){var n=this.pushOnlyBuffer.concat(B(this.upsertBuffer)),t=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,e({data:n.join("\n"),bytesCount:t})}},e.prototype.computeBytesCount=function(e){return kn.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,n){var t=this.process(e),r=t.processedMessage,o=t.messageBytesCount;o>=this.messageBytesLimit?f.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(n)&&this.remove(n),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(r,o,n),this.isFull()&&this.flush())},e.prototype.process=function(e){var n=L(e);return{processedMessage:n,messageBytesCount:this.computeBytesCount(n)}},e.prototype.push=function(e,n,t){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),void 0!==t?this.upsertBuffer[t]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=n,this.bufferMessagesCount+=1},e.prototype.remove=function(e){var n=this.upsertBuffer[e];delete this.upsertBuffer[e];var t=this.computeBytesCount(n);this.bufferBytesCount-=t,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},e.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout(S(function(){e.flush(),e.flushPeriodically()}),this.flushTimeout)},e}();function Cn(){var e=z().DatadogEventBridge;if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(n,t){e.send(JSON.stringify({eventType:n,event:t}))}}}function wn(e){var n;void 0===e&&(e=null===(n=z().location)||void 0===n?void 0:n.hostname);var t=Cn();return!!t&&t.getAllowedWebViewHosts().some(function(n){return e===n||(t=e,r=".".concat(n),t.slice(-r.length)===r);var t,r})}function Sn(e,n,t,r,o){var i,a=c(n);function c(n){return new bn(function(e,n,t){var r={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:yn(),queueFullReported:!1},o=function(t,r){return function(e,n,t,r){var o=t.data,i=t.bytesCount,a=t.retry;if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&i<n){var c=e.build("fetch",a);fetch(c,{method:"POST",body:o,keepalive:!0,mode:"cors"}).then(S(function(e){return null==r?void 0:r({status:e.status,type:e.type})}),S(function(){mn(e.build("xhr",a),o,r)}))}else mn(e.build("xhr",a),o,r)}(e,n,t,r)};return{send:function(n){dn(n,r,o,e.endpointType,t)},sendOnExit:function(t){!function(e,n,t){var r=t.data;if(navigator.sendBeacon&&t.bytesCount<n)try{var o=e.build("beacon");if(navigator.sendBeacon(o,r))return}catch(e){!function(e){gn||(gn=!0,Ue(e))}(e)}mn(e.build("xhr"),r)}(e,n,t)}}}(n,e.batchBytesLimit,t),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout,r)}return o&&(i=c(o)),{add:function(e,n){void 0===n&&(n=!0),a.add(e),i&&n&&i.add(e)}}}var _n,En=new WeakMap;function On(){var e;return hn||(e=new De(function(){var n=be(XMLHttpRequest.prototype,"open",{before:An}).stop,t=be(XMLHttpRequest.prototype,"send",{before:function(){Tn.call(this,e)}}).stop,r=be(XMLHttpRequest.prototype,"abort",{before:Pn}).stop;return function(){n(),t(),r()}}),hn=e),hn}function An(e,n){En.set(this,{state:"open",method:e,url:ee(String(n))})}function Tn(e){var n=this,t=En.get(this);if(t){var r=t;r.state="start",r.startTime=X(),r.startClocks=Y(),r.isAborted=!1,r.xhr=this;var o=!1,i=be(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&a()}}).stop,a=S(function(){if(n.removeEventListener("loadend",a),i(),!o){o=!0;var c,u=t;u.state="complete",u.duration=(c=r.startClocks.timeStamp,$()-c),u.status=n.status,e.notify(A({},u))}});this.addEventListener("loadend",a),e.notify(r)}}function Pn(){var e=En.get(this);e&&(e.isAborted=!0)}function xn(e,n,t){var r=t&&t.method||"object"==typeof n&&n.method||"GET",o=ee("object"==typeof n&&n.url||n),i={state:"start",init:t,input:n,method:r,startClocks:Y(),url:o};return e.notify(i),i}function Ln(e,n,t){var r=function(n){var r=t;r.state="resolve","stack"in n||n instanceof Error?(r.status=0,r.isAborted=n instanceof DOMException&&n.code===DOMException.ABORT_ERR,r.error=n):"status"in n&&(r.response=n,r.responseType=n.type,r.status=n.status,r.isAborted=!1),e.notify(r)};n.then(S(r),S(r))}var Dn={};function In(e,n,t){var r,o=e.map(function(e){return function(e){return"string"==typeof e?e:e instanceof Error?Pe(le(e)):L(e,void 0,2)}(e)}).join(" ");if(n===v.error){var i=function(e,n){for(var t=0;t<e.length;t+=1){var r=e[t];if(r instanceof Error)return r}}(e);r=i?Te(le(i)):void 0,o="console error: ".concat(o)}return{api:n,message:o,stack:r,handlingStack:t}}var Rn=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},e}();function Mn(){var e={};return{get:function(){return e},add:function(n,t){e[n]=t},remove:function(n){delete e[n]},set:function(n){e=n},getContext:function(){return q(e)},setContext:function(n){e=q(n)},setContextProperty:function(n,t){e[n]=q(t)},removeContextProperty:function(n){delete e[n]},clearContext:function(){e={}}}}function Bn(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||W("datadog-synthetics-injects-rum"))}function Fn(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||W("datadog-synthetics-result-id");return"string"==typeof e?e:void 0}function Nn(e){var n=A({},e);return["id","name","email"].forEach(function(e){e in n&&(n[e]=String(n[e]))}),n}function zn(e,n,t){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every(function(e){return I(n,e)})?"all"===e?n:(r=e,o=new Set,r.forEach(function(e){return o.add(e)}),R(o)):void f.error("".concat(t,' should be "all" or an array with allowed values "').concat(n.join('", "'),'"'));var r,o}var Gn,Un={debug:"debug",error:"error",info:"info",warn:"warn"},Vn="http",qn=Object.keys(Un),jn=function(){function e(e,n,t,r,o){void 0===t&&(t=Vn),void 0===r&&(r=Un.debug),void 0===o&&(o={}),this.handleLogStrategy=e,this.handlerType=t,this.level=r,this.contextManager=Mn(),this.contextManager.set(A({},o,n?{logger:{name:n}}:void 0))}return e.prototype.log=function(e,n,t){void 0===t&&(t=Un.info),this.handleLogStrategy({message:e,context:q(n),status:t},this)},e.prototype.debug=function(e,n){this.log(e,n,Un.debug)},e.prototype.info=function(e,n){this.log(e,n,Un.info)},e.prototype.warn=function(e,n){this.log(e,n,Un.warn)},e.prototype.error=function(e,n){this.log(e,j({error:{origin:_e}},n),Un.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.getContext=function(){return this.contextManager.get()},e.prototype.addContext=function(e,n){this.contextManager.add(e,n)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(e){this.level=e},e.prototype.getLevel=function(){return this.level},function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);i>3&&a&&Object.defineProperty(n,t,a)}([w],e.prototype,"log",null),e}();function Hn(e){return P(e.sessionSampleRate)?"1":"0"}var Wn=((Gn={})[Un.debug]=0,Gn[Un.info]=1,Gn[Un.warn]=2,Gn[Un.error]=3,Gn);function Kn(e,n,t){var r=t.getHandler(),o=Array.isArray(r)?r:[r];return Wn[e]>=Wn[t.getLevel()]&&I(o,n)}var Jn,Zn=!1;function $n(e){var n,t=window;if(Bn()){var r=o(t.DD_RUM_SYNTHETICS);return r||Zn||(Zn=!0,Ge("Logs sent before RUM is injected by the synthetics worker",{testId:(n=window._DATADOG_SYNTHETICS_PUBLIC_ID||W("datadog-synthetics-public-id"),"string"==typeof n?n:void 0),resultId:Fn()})),r}return o(t.DD_RUM);function o(n){if(n&&n.getInternalContext)return n.getInternalContext(e)}}var Xn,Yn=((Jn={})[v.log]=Un.info,Jn[v.debug]=Un.debug,Jn[v.info]=Un.info,Jn[v.warn]=Un.warn,Jn[v.error]=Un.error,Jn),Qn=((Xn={})[Ke.cspViolation]=Un.error,Xn[Ke.intervention]=Un.error,Xn[Ke.deprecation]=Un.warn,Xn);function et(e,n){return e.length>n.requestErrorResponseLengthLimit?"".concat(e.substring(0,n.requestErrorResponseLengthLimit),"..."):e}function nt(e){return"xhr"===e?"XHR":"Fetch"}var tt,rt,ot=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,n){var t=this.callbacks[e];t&&t.forEach(function(e){return e(n)})},e.prototype.subscribe=function(e,n){var t=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),{unsubscribe:function(){t.callbacks[e]=t.callbacks[e].filter(function(e){return n!==e})}}},e}(),it=function(e){var n,t,r=!1,o=Mn(),i=Mn(),a={},c=function(){},u=new Rn,l=function(e,n,t,r){void 0===t&&(t=q(y())),void 0===r&&(r=$()),u.add(function(){return l(e,n,t,r)})},s=function(){},d=new jn(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,e)});function y(){return{view:{referrer:document.referrer,url:window.location.href},context:o.getContext(),user:i.getContext()}}return n={logger:d,init:S(function(e){var n;if(wn()&&(e=function(e){return A({},e,{clientToken:"empty"})}(e)),function(e){return!r||(e.silentMultipleInit||f.error("DD_LOGS is already initialized."),!1)}(e)){var t=function(e){var n=function(e){var n,t,r;if(e&&e.clientToken){var o=null!==(n=e.sessionSampleRate)&&void 0!==n?n:e.sampleRate;if(void 0===o||M(o))if(void 0===e.telemetrySampleRate||M(e.telemetrySampleRate)){var i;if(void 0===e.telemetryConfigurationSampleRate||M(e.telemetryConfigurationSampleRate))return i=e.enableExperimentalFeatures,Array.isArray(i)&&(g||(g=new Set(i)),i.filter(function(e){return"string"==typeof e}).forEach(function(e){I(e,"-")&&f.warn("please use snake case for '".concat(e,"'")),g.add(e)})),A({beforeSend:e.beforeSend&&J(e.beforeSend,"beforeSend threw an error:"),cookieOptions:ce(e),sessionSampleRate:null!=o?o:100,telemetrySampleRate:null!==(t=e.telemetrySampleRate)&&void 0!==t?t:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},function(e){var n=function(e){var n=e.env,t=e.service,r=e.version,o=e.datacenter,i=[];return n&&i.push(ae("env",n)),t&&i.push(ae("service",t)),r&&i.push(ae("version",r)),o&&i.push(ae("datacenter",o)),i}(e),t=function(e,n){return{logsEndpointBuilder:oe(e,"logs",n),rumEndpointBuilder:oe(e,"rum",n),sessionReplayEndpointBuilder:oe(e,"sessionReplay",n)}}(e,n),r=B(t).map(function(e){return e.buildIntakeUrl()}),o=function(e,n,t){if(e.replica){var r=A({},e,{site:ne,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:oe(r,"logs",t),rumEndpointBuilder:oe(r,"rum",t)};return n.push.apply(n,B(o).map(function(e){return e.buildIntakeUrl()})),A({applicationId:e.replica.applicationId},o)}}(e,r,n);return A({isIntakeUrl:function(e){return r.some(function(n){return 0===e.indexOf(n)})},replica:o,site:e.site||ne},t)}(e));f.error("Telemetry Configuration Sample Rate should be a number between 0 and 100")}else f.error("Telemetry Sample Rate should be a number between 0 and 100");else f.error("Session Sample Rate should be a number between 0 and 100")}else f.error("Client Token is not configured, we will not send any data.")}(e),t=zn(e.forwardConsoleLogs,B(v),"Forward Console Logs"),r=zn(e.forwardReports,B(Ke),"Forward Reports");if(n&&t&&r)return e.forwardErrorsToLogs&&!I(t,v.error)&&t.push(v.error),A({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:t,forwardReports:r,requestErrorResponseLengthLimit:32768},n)}(e);t&&(n=function(e,n,t,r){var o=new ot;o.subscribe(1,function(e){return Me("logs",e)});var i,a=function(e){return o.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{origin:we},origin:we,status:Un.error}})},c=i=new De(function(){var e=je(document,"visibilitychange",function(){"hidden"===document.visibilityState&&i.notify({reason:"visibility_hidden"})},{capture:!0}).stop,n=je(window,"beforeunload",function(){i.notify({reason:"before_unload"})}).stop;return function(){e(),n()}}),u=function(e,n,t){var r,o=function(e,n){var t,r=new De;return ze.telemetryEnabled=P(n.telemetrySampleRate),ze.telemetryConfigurationEnabled=ze.telemetryEnabled&&P(n.telemetryConfigurationSampleRate),Be=function(e){if(!I(Ne,n.site)&&ze.telemetryEnabled){var o=(i=e,j({type:"telemetry",date:$(),service:"browser-logs-sdk",version:"4.30.0",source:"browser",_dd:{format_version:2},telemetry:i,experimental_features:R(g||new Set)},void 0!==t?t():{}));r.notify(o),Me("telemetry",o)}var i},p=Ue,A(ze,{maxEventsPerPage:n.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){t=e},observable:r}}(0,e);if(wn()){var i=Cn();o.observable.subscribe(function(e){return i.send("internal_telemetry",e)})}else{var a=Sn(e,e.rumEndpointBuilder,n,t,null===(r=e.replica)||void 0===r?void 0:r.rumEndpointBuilder);o.observable.subscribe(function(n){return a.add(n,function(e){return"datad0g.com"===e.site}(e))})}return o}(n,a,c);u.setContextProvider(function(){var e,n,t,r,o,i;return{application:{id:null===(e=$n())||void 0===e?void 0:e.application_id},session:{id:null===(n=d.findTrackedSession())||void 0===n?void 0:n.id},view:{id:null===(r=null===(t=$n())||void 0===t?void 0:t.view)||void 0===r?void 0:r.id},action:{id:null===(i=null===(o=$n())||void 0===o?void 0:o.user_action)||void 0===i?void 0:i.id}}}),function(e,n){if(!e.forwardErrorsToLogs)return{stop:x};var t;function r(t,r){function o(e){n.notify(0,{rawLogsEvent:{message:"".concat(nt(t)," error ").concat(r.method," ").concat(r.url),date:r.startClocks.timeStamp,error:{origin:Ee,stack:e||"Failed to load"},http:{method:r.method,status_code:r.status,url:r.url},status:Un.error,origin:Ee}})}e.isIntakeUrl(r.url)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function(e){return e.status>=500}(r)||("xhr"in r?function(e,n,t){t("string"==typeof e.response?et(e.response,n):e.response)}(r.xhr,e,o):r.response?function(e,n,t){window.TextDecoder?e.body?function(e,n,t){!function(e,n,t){var r=e.getReader(),o=[],i=0;function a(){var e,a;if(r.cancel().catch(x),t.collectStreamBody){var c;if(1===o.length)c=o[0];else{c=new Uint8Array(i);var u=0;o.forEach(function(e){c.set(e,u),u+=e.length})}e=c.slice(0,t.bytesLimit),a=c.length>t.bytesLimit}n(void 0,e,a)}!function e(){r.read().then(S(function(n){n.done?a():(t.collectStreamBody&&o.push(n.value),(i+=n.value.length)>t.bytesLimit?a():e())}),S(function(e){return n(e)}))}()}(e,function(e,n,r){if(e)t(e);else{var o=(new TextDecoder).decode(n);r&&(o+="..."),t(void 0,o)}},{bytesLimit:n,collectStreamBody:!0})}(e.clone().body,n.requestErrorResponseLengthLimit,function(e,n){t(e?"Unable to retrieve response: ".concat(e):n)}):t():e.clone().text().then(S(function(e){return t(et(e,n))}),S(function(e){return t("Unable to retrieve response: ".concat(e))}))}(r.response,e,o):r.error&&function(e,n,t){t(et(Te(le(e)),n))}(r.error,e,o))}On().subscribe(function(e){"complete"===e.state&&r("xhr",e)}),(_n||(t=new De(function(){if(window.fetch)return ke(window,"fetch",function(e){return function(n,r){var o,i=_(xn,null,[t,n,r]);return i?(o=e.call(this,i.input,i.init),_(Ln,null,[t,o,i])):o=e.call(this,n,r),o}}).stop}),_n=t),_n).subscribe(function(e){"resolve"===e.state&&r("fetch",e)})}(n,o),function(e,n){if(!e.forwardErrorsToLogs)return{stop:x};var t,r,o=new De;t=o,r=function(e,n){t.notify(function(e){var n=e.stackTrace,t=e.originalError,r=e.handlingStack,o=e.startClocks,i=e.nonErrorPrefix,a=e.source,c=e.handling;return n&&(void 0!==n.message||t instanceof Error)?{startClocks:o,source:a,handling:c,originalError:t,message:n.message||"Empty message",stack:Te(n),handlingStack:r,type:n.name,causes:Le(t,a)}:{startClocks:o,source:a,handling:c,originalError:t,message:"".concat(i," ").concat(L(t)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:n&&n.name}}({stackTrace:e,originalError:n,startClocks:Y(),nonErrorPrefix:"Uncaught",source:Oe,handling:"unhandled"}))},function(e){be(window,"onerror",{before:function(n,t,r,o,i){var a;if(i)a=le(i),e(a,i);else{var c,u={url:t,column:o,line:r},l=n;if("[object String]"==={}.toString.call(n)){var s=Ce.exec(l);s&&(c=s[1],l=s[2])}e(a={name:c,message:"string"==typeof l?l:void 0,stack:[u]},n)}}})}(r),function(e){be(window,"onunhandledrejection",{before:function(n){var t=n.reason||"Empty reason",r=le(t);e(r,t)}})}(r),o.subscribe(function(e){n.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{kind:e.type,origin:Oe,stack:e.stack},origin:Oe,status:Un.error}})})}(n,o),function(e,n){var t,r;(t=e.forwardConsoleLogs,r=t.map(function(e){return Dn[e]||(Dn[e]=function(e){var n=new De(function(){var t=console[e];return console[e]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.apply(console,r);var i=xe();_(function(){n.notify(In(r,e,i))})},function(){console[e]=t}});return n}(e)),Dn[e]}),Ie.apply(void 0,r)).subscribe(function(e){n.notify(0,{rawLogsEvent:{date:$(),message:e.message,origin:Se,error:e.api===v.error?{origin:Se,stack:e.stack}:void 0,status:Yn[e.api]}})})}(n,o),function(e,n){(function(e){var n,t=[];I(e,Ke.cspViolation)&&t.push(n=new De(function(){var e=S(function(e){n.notify(function(e){var n=Ke.cspViolation,t="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:Ke.cspViolation,subtype:e.effectiveDirective,message:"".concat(n,": ").concat(t),stack:Je(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(G(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)}}(e))});return je(document,"securitypolicyviolation",e).stop}));var r=e.filter(function(e){return e!==Ke.cspViolation});return r.length&&t.push(function(e){var n=new De(function(){if(window.ReportingObserver){var t=S(function(e){return e.forEach(function(e){n.notify(function(e){var n=e.type,t=e.body;return{type:n,subtype:t.id,message:"".concat(n,": ").concat(t.message),stack:Je(t.id,t.message,t.sourceFile,t.lineNumber,t.columnNumber)}}(e))})}),r=new window.ReportingObserver(t,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}});return n}(r)),Ie.apply(void 0,t)})(e.forwardReports).subscribe(function(e){var t,r=e.message,o=Qn[e.type];o===Un.error?t={kind:e.subtype,origin:Ae,stack:e.stack}:e.stack&&(r+=" Found in ".concat(function(e){var n;return null===(n=/@ (.+)/.exec(e))||void 0===n?void 0:n[1]}(e.stack))),n.notify(0,{rawLogsEvent:{date:$(),message:r,origin:Ae,error:t,status:o}})})}(n,o);var l,s=function(e){return{handleLog:function(n,t,r,o){var i=n.context;Kn(n.status,"console",t)&&f(n.status,n.message,j(t.getContext(),i)),e.notify(0,{rawLogsEvent:{date:o||$(),message:n.message,status:n.status,origin:_e},messageContext:i,savedCommonContext:r,logger:t})}}}(o).handleLog,d=!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var n="dd_cookie_test_".concat(T()),t="test";H(n,t,6e4,e);var r=W(n)===t;return K(n,e),r}catch(e){return f.error(e),!1}}(n.cookieOptions)||wn()||Bn()?function(e){var n="1"===Hn(e)?{}:void 0;return{findTrackedSession:function(){return n}}}(n):function(e){var n=function(n,t,r){!function(e){var n=W(en),t=W("_dd"),r=W("_dd_r"),o=W("_dd_l");if(!n){var i={};t&&(i.id=t),o&&/^[01]$/.test(o)&&(i.logs=o),r&&/^[012]$/.test(r)&&(i.rum=r),cn(i,e)}}(n);var o,i,a=function(n,t,r){var o,i=new De,a=new De,c=setInterval(S(function(){tn({options:n,process:function(e){return d(e)?void 0:{}},after:l})}),1e3),u=d(o=ln())?o:{};function l(e){return d(e)||(e={}),s()&&(function(e){return u.id!==e.id||u[t]!==e[t]}(e)?(u={},a.notify()):u=e),e}function s(){return void 0!==u[t]}function d(e){return(void 0===e.created||Z()-Number(e.created)<144e5)&&(void 0===e.expire||Z()<Number(e.expire))}return{expandOrRenewSession:O(S(function(){var r;tn({options:n,process:function(n){var o=l(n);return r=function(n){var r=function(e,n){var t=function(e){return"0"===e||"1"===e}(n)?n:Hn(e);return{trackingType:t,isTracked:"1"===t}}(e,n[t]),o=r.isTracked;return n[t]=r.trackingType,o&&!n.id&&(n.id=T(),n.created=String(Z())),o}(o),o},after:function(e){r&&!s()&&function(e){u=e,i.notify()}(e),u=e}})}),1e3).throttled,expandSession:function(){tn({options:n,process:function(e){return s()?l(e):void 0}})},getSession:function(){return u},renewObservable:i,expireObservable:a,stop:function(){clearInterval(c)}}}(n,t),c=new Xe(144e5);function u(){return{id:a.getSession().id,trackingType:a.getSession()[t]}}return a.renewObservable.subscribe(function(){c.add(u(),X())}),a.expireObservable.subscribe(function(){c.closeActive(X())}),a.expandOrRenewSession(),c.add(u(),[0,Q()][0]),He(window,["click","touchstart","keydown","scroll"],function(){return a.expandOrRenewSession()},{capture:!0,passive:!0}),o=function(){return a.expandSession()},i=S(function(){"visible"===document.visibilityState&&o()}),je(document,"visibilitychange",i),setInterval(i,6e4),{findActiveSession:function(e){return c.find(e)},renewObservable:a.renewObservable,expireObservable:a.expireObservable}}(e.cookieOptions,"logs");return{findTrackedSession:function(e){var t=n.findActiveSession(e);return t&&"1"===t.trackingType?{id:t.id}:void 0}}}(n);return function(e,n,t,r,o,i){var a=qn.concat(["custom"]),c={};a.forEach(function(e){var t,r,o,a,u;c[e]=(t=e,r=n.eventRateLimiterThreshold,o=i,a=0,u=!1,{isLimitReached:function(){if(0===a&&setTimeout(function(){a=0},6e4),(a+=1)<=r||u)return u=!1,!1;if(a===r+1){u=!0;try{o({message:"Reached max number of ".concat(t,"s by minute: ").concat(r),source:we,startClocks:Y()})}finally{u=!1}}return!0}})}),t.subscribe(0,function(i){var a,u,l,s=i.rawLogsEvent,d=i.messageContext,v=void 0===d?void 0:d,f=i.savedCommonContext,p=void 0===f?void 0:f,y=i.logger,g=void 0===y?o:y,m=s.date-Q(),h=e.findTrackedSession(m);if(h){var k=p||r(),b=j({service:n.service,session_id:h.id,usr:F(k.user)?void 0:k.user,view:k.view},k.context,$n(m),s,g.getContext(),v);!Kn(s.status,Vn,g)||!1===(null===(a=n.beforeSend)||void 0===a?void 0:a.call(n,b))||(null===(u=b.error)||void 0===u?void 0:u.origin)!==we&&(null!==(l=c[b.status])&&void 0!==l?l:c.custom).isLimitReached()||t.notify(1,b)}})}(d,n,o,t,r,a),wn()?function(e){var n=Cn();e.subscribe(1,function(e){n.send("log",e)})}(o):function(e,n,t,r){var o,i=Sn(e,e.logsEndpointBuilder,t,r,null===(o=e.replica)||void 0===o?void 0:o.logsEndpointBuilder);n.subscribe(1,function(e){i.add(e)})}(n,o,a,c),function(e){ze.telemetryConfigurationEnabled&&Ve({type:"configuration",configuration:e})}(function(e){var n=function(e){var n;return{session_sample_rate:null!==(n=e.sessionSampleRate)&&void 0!==n?n:e.sampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:void 0!==e.proxyUrl?!!e.proxyUrl:void 0,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_resources:e.trackResources,track_long_task:e.trackLongTasks}}(e);return A({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports},n)}(e)),{handleLog:s,getInternalContext:(l=d,{get:function(e){var n=l.findTrackedSession(e);if(n)return{session_id:n.id}}}).get}}(e,t,y,d),l=n.handleLog,c=n.getInternalContext,s=function(){return q(e)},u.drain(),r=!0)}}),getLoggerGlobalContext:S(o.get),getGlobalContext:S(o.getContext),setLoggerGlobalContext:S(o.set),setGlobalContext:S(o.setContext),addLoggerGlobalContext:S(o.add),setGlobalContextProperty:S(o.setContextProperty),removeLoggerGlobalContext:S(o.remove),removeGlobalContextProperty:S(o.removeContextProperty),clearGlobalContext:S(o.clearContext),createLogger:S(function(e,n){return void 0===n&&(n={}),a[e]=new jn(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,e)},e,n.handler,n.level,n.context),a[e]}),getLogger:S(function(e){return a[e]}),getInitConfiguration:S(function(){return s()}),getInternalContext:S(function(e){return c(e)}),setUser:S(function(e){(function(e){var n="object"===U(e);return n||f.error("Unsupported user:",e),n})(e)&&i.setContext(Nn(e))}),getUser:S(i.getContext),setUserProperty:S(function(e,n){var t,r=Nn((t={},t[e]=n,t))[e];i.setContextProperty(e,r)}),removeUserProperty:S(i.removeContextProperty),clearUser:S(i.clearContext)},t=A({version:"4.30.0",onReady:function(e){e()}},n),Object.defineProperty(t,"_setDebug",{get:function(){return C},enumerable:!1}),t}();rt=(tt=z()).DD_LOGS,tt.DD_LOGS=it,rt&&rt.q&&rt.q.forEach(function(e){return J(e,"onReady callback threw an error:")()});var at,ct="www.gucci.com"===window.location.hostname?{clientToken:"pub06c9294a47138de514fbc6e73bba7b13",environment:"prod"}:{clientToken:"pub06c9294a47138de514fbc6e73bba7b13",environment:"qa"},ut=new(/*#__PURE__*/function(){function e(e,n){it.init({clientToken:n.clientToken,site:"datadoghq.com",forwardErrorsToLogs:!1,sampleRate:100,version:"ga4",service:"analytics-sdk",env:n.environment,useCrossSiteSessionCookie:!0,trackSessionAcrossSubdomains:!0,useSecureSessionCookie:!0,silentMultipleInit:!0}),it.setLoggerGlobalContext({country:e})}var n=e.prototype;return n.logError=function(e,n){it.logger.error(e,n)},n.realtimeGA=function(e,n,t,r,o){it.logger.info("GA4 - "+e,{appService:"google-analytics",ga4ServiceType:"sdk",analytics_data:{country:o,eventData:{eventCategory:n,eventAction:t,eventLabel:r}}})},e}())(n(),ct),lt="2.7.2",st={event:a,category:"book an appointment spa"},dt=["bookanappointment.page_view","bookanappointment.next","bookanappointment.back","bookanappointment.create-appointment","bookanappointment.reserveproduct","bookanappointment.change-store"];function vt(e){var n={};if(!e)return n;var t=e.split("/");return 1===t.length&&""===t[0]?n:n=o({item_category:t[0]},t[1]&&{item_category2:t[1]},t[2]&&{item_category3:t[2]},t[3]&&{item_category4:t[3]},t[4]&&{item_category5:t[4]})}function ft(e){var n=window.localStorage.getItem("ga_cartItems");if(n)return JSON.parse(n).map(e)}!function(e){e.NO_CTA="no_cta",e.ADD_TO_CART="addToCart",e.FIND_IN_STORE="findInStore",e.UNKNOWN_CTA=""}(at||(at={}));var pt=function(e){return"UNKNOWN"!==(e.listName?e.listName:"UKNNOWN")};function yt(e){var n=window.localStorage.getItem("ga_linkData");return n?JSON.parse(n)[e]:void 0}function gt(e){var n=yt(e);if(n)return pt(n)?n.listPage:""}function mt(e){if(e&&"string"==typeof e){var n=e.replace(/\s+/g," ").trim();return"unknown"===n.toLowerCase()?"UNKNOWN":n}return"UNKNOWN"}function ht(e,n){var t,r,i,a,c=void 0===e.brand?{item_brand:"unknown"}:{item_brand:e.brand},u=n.exchangeRate,l=e.price?u.convert(parseFloat(e.price)).toFixed(2):"",s=u.getCurrency(),d=function(e){var n=yt(e);if(n)return pt(n)?n.crossSellPageSource:""}(e.id),v=function(e){var n=yt(e);if(n)return pt(n)?n.crossSellStrategy:""}(e.id),f=function(e){var n=yt(e);if(n)return pt(n)?n.recoSourceItem:""}(e.id),p={};return d&&(p.crossSellPageSource=d),v&&(p.crossSellStrategy=v),f&&(p.recoSourceItem=f),o({item_id:e.id,item_name:mt(e.name)},c,{currency:s,index:e.position},vt(e.category),{item_list_id:mt(gt(e.id)),item_list_name:mt(e.list),item_variant:mt(e.variant),price:l,local_price:null!=(t=e.price)?t:"",local_currency:null!=(r=n.currency)?r:"",quantity:e.quantity,variation:null!=(i=e.variation)&&i,monogram:null!=(a=e.monogram)&&a},p)}function kt(e,n){var t;return void 0===n?{}:((t={})[e]="boolean"==typeof n?""+n:"",t)}function bt(e,n){var t,r,i,a,c,u,l=void 0===e.item_brand?{item_brand:"unknown"}:{item_brand:e.item_brand},s=n.exchangeRate,d=e.price?s.convert(parseFloat(e.price)).toFixed(2):"",v=s.getCurrency();return o({item_id:e.item_id,item_name:mt(e.item_name)},l,{currency:v,index:e.index},vt(null!=(t=e.category)?t:function(e){if(!e)return"";if(!e.includes("/pr/"))return e;var n="";try{for(var t=e.substring(e.indexOf("/pr/")+3,e.length),r=t.substring(0,t.indexOf("-p-")),o=r.substring(0,r.lastIndexOf("/")),i=1;i<o.length;i++)RegExp("-|/").test(o[i-1])&&!RegExp("[0-9]").test(o[i])?n+=o[i].toUpperCase():n+=o[i]}catch(e){console.error("analyticsSdk: error parsing url to retrieve product category")}return n}(e.item_category)),{item_list_id:mt(gt(e.item_id)),item_list_name:mt(null!=(r=e.item_list_name)?r:e.item_list),item_variant:mt(e.item_variant),price:d,local_price:null!=(i=e.price)?i:"",local_currency:null!=(a=n.currency)?a:"",quantity:e.quantity,variation:null!=(c=e.variation)&&c},kt("hasStockInStore",e.hasStockInStore),kt("hasStockEcommerce",e.hasStockEcommerce),kt("hasContactUs",e.hasContactUs),kt("hasEmbossing",e.hasEmbossing),void 0===(u=e.stockPdpCta)?{}:{stockPdpCta:Object.values(at).includes(u)?u:at.UNKNOWN_CTA},e.recoSourceItem?{recoSourceItem:e.recoSourceItem}:{},e.crossSellPageSource?{crossSellPageSource:e.crossSellPageSource}:{},e.crossSellStrategy?{crossSellStrategy:e.crossSellStrategy}:{},void 0!==e.outOfStock&&{outOfStock:e.outOfStock})}var Ct=["ecommerce","checkout","shopping bag","flyout bag",""],wt=["cart page","cart","flyout","cart overlay","back_to_search","enter_manually","pdp",""];function St(e){return Ct.includes(e)}function _t(e){return wt.includes(e)}var Et="purchase",Ot="lastPlacedOrderNumber",At=function(){return window.sessionStorage.getItem(Ot)},Tt={MAX_LENGTH:20,JP_KR_LENGTH:10,COUNTRIES:["jp","kr"]},Pt={event:a};function xt(e){var n,t,r,i;return o({},Pt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,urlDestination:null==e||null==(r=e.event)?void 0:r.urlDestination,ctaLabel:null==e||null==(i=e.event)?void 0:i.ctaLabel})}var Lt=/*#__PURE__*/function(){function e(e){this.rate=void 0,this.rate=e}var n=e.prototype;return n.convert=function(e){return e/this.rate},n.getCurrency=function(){return"EUR"},e}(),Dt=new(/*#__PURE__*/function(){function e(){}return e.prototype.byCountry=function(e){var n;return null!=(n={ae:new Lt(3.97),au:new Lt(1.62),ca:new Lt(1.47),ch:new Lt(.97),cz:new Lt(25.19),dk:new Lt(7.46),hk:new Lt(8.42),hu:new Lt(391),jp:new Lt(169),kr:new Lt(1478),mx:new Lt(18.96),no:new Lt(11.57),nz:new Lt(1.78),sa:new Lt(4.05),se:new Lt(11.39),sg:new Lt(1.46),th:new Lt(39.23),tr:new Lt(35.9),uk:new Lt(.85),us:new Lt(1.08),za:new Lt(19.92)}[e])?n:It},e}()),It=new Lt(1),Rt=["funhouseFooter.displayFooter","funhouseNewsletter.submit","funhouseStoreLocator.submit","funhouseFooterIcon.clickGucciEquilibrium","funhouseFooterIcon.clickGucciGarden","funhouseFooterIcon.clickGucciOsteria","funhouseFooterIcon.clickAppleAppStore","funhouseFooterIcon.clickGooglePlay","funhouseFooterIcon.clickGucciApp","funhouseFooterLink.click","funhouseLanguageSelector.click","funhouseCountrySelector.click","funhouseGeolocationModal.open","funhouseGeolocationModal.changeCountry"],Mt={ae:"AED",au:"AUD",ca:"CAD",ch:"CHF",cz:"CZK",dk:"DKK",hu:"HUF",jp:"JPY",kr:"KRW",mx:"MXN",no:"NOK",nz:"NZD",sa:"SAR",se:"SEK",sg:"SGD",th:"THB",tr:"TRY",uk:"GBP",us:"USD",za:"ZAR"};function Bt(e){var n;return null!=(n=Mt[e])?n:"EUR"}var Ft=["funhouseMiniCart.clickOnShoppingBag","funhouseMiniCart.proceedToCheckout","funhouseMiniCart.closeCart","funhouseMyAccount.openFlyout","funhouseMyAccount.flyoutItemClick","funhouseLogo.click","funhouseSearch.click","funhouseContactUs.click"],Nt=["funhouseMiniCart.emptyCart","funhouseMiniCart.notEmptyCart"],zt={event:a};function Gt(e){var n,t;return o({},zt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label})}function Ut(e){var n,t,r;return o({},Gt(e),{urlDestination:null==e||null==(n=e.event)?void 0:n.urlDestination,ctaLabel:null==e||null==(t=e.event)?void 0:t.ctaLabel,indexCarousel:(null==e||null==(r=e.event)?void 0:r.indexCarousel)||0})}function Vt(e){var n;return o({},Gt(e),{listOfLabels:null==e||null==(n=e.event)?void 0:n.listOfLabels})}var qt=["emailSubscription.subscribe","emailSubscription.opt","myAccount.signIn","myAccount.signinErrors","myAccount.saveSettings","myAccount.saveSettingsError","myAccount.deleteAccount","myAccount.deleteAccountError","myAccount.createAccount","myAccount.createAccountErrors","myAccount.orderConfirmation","myAccount.checkout.skipLogin","myAccount.changeEmailFlowCreateAccount","myAccount.changeEmailAtValidation","gaTech","access.impression","access.click","returnFlow.delivery","returnFlow.collectInStore","returnFlow.vpv","orderHistory.ordersPage"],jt={event:a};function Ht(e){var n,t,r,i;return o({},jt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label},null!=(null==e||null==(r=e.event)?void 0:r.totalCarousel)&&{totalCarousel:null==e||null==(i=e.event)?void 0:i.totalCarousel})}function Wt(e){var n,t,r,i,a;return o({},Ht(e),{urlDestination:null==e||null==(n=e.event)?void 0:n.urlDestination},null!=(null==e||null==(t=e.event)?void 0:t.ctaLabel)&&{ctaLabel:null==e||null==(r=e.event)?void 0:r.ctaLabel},null!=(null==e||null==(i=e.event)?void 0:i.indexCarousel)&&{indexCarousel:null==e||null==(a=e.event)?void 0:a.indexCarousel})}function Kt(e){var n,t;return o({},null!=(null==e||null==(n=e.event)?void 0:n.indexCarouselDestination)&&{indexCarouselDestination:null==e||null==(t=e.event)?void 0:t.indexCarouselDestination})}function Jt(e){var n;return{direction:null==e||null==(n=e.event)?void 0:n.direction}}function Zt(e,n,t){var r=l(e,n),i=e.event.extraData,a=o({},r,void 0!==i&&void 0!==i.recoSourceHit&&{recoSourceHit:i.recoSourceHit},void 0!==i&&void 0!==i.crossSellStrategy&&{crossSellStrategy:i.crossSellStrategy});t.push(a)}var $t="product page",Xt={event:a};function Yt(e){var n,t,r,i,a,c;return o({},Xt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,urlDestination:null==e||null==(r=e.event)?void 0:r.urlDestination,ctaLabel:null==e||null==(i=e.event)?void 0:i.ctaLabel,indexRouting:null==e||null==(a=e.event)?void 0:a.indexRouting,totalRouting:null==e||null==(c=e.event)?void 0:c.totalRouting})}var Qt="site_search",er="view_search_results";function nr(e,n,t,r){var o,i,a,c,u,l,s,d={event:null!=r?r:Qt,searchTerm:null!=(o=null==t||null==(i=t.event)?void 0:i.search_query)?o:null==t||null==(a=t.event)?void 0:a.query,searchCat:null!=(c=null==t||null==(u=t.event)?void 0:u.search_category)?c:null==t||null==(l=t.event)?void 0:l.label,searchOrigin:null==t||null==(s=t.event)?void 0:s.category,country:n.country};e.push(d)}function tr(e,n,t){var r,i,c,u,l,s,d,v,f,p,y=o({event:a,action:null==n||null==(r=n.event)?void 0:r.action},(null==n||null==(i=n.event)?void 0:i.label)&&{label:null==n||null==(c=n.event)?void 0:c.label},(null==n||null==(u=n.event)?void 0:u.search_query)&&{search_query:null==n||null==(l=n.event)?void 0:l.search_query},(null==n||null==(s=n.event)?void 0:s.filter_name)&&{filter_name:null==n||null==(d=n.event)?void 0:d.filter_name},(null==n||null==(v=n.event)?void 0:v.errorMessage)&&{errorMessage:null==n||null==(f=n.event)?void 0:f.errorMessage},{category:null==n||null==(p=n.event)?void 0:p.category,country:t.country});e.push(y)}function rr(e,n,t){var r,i,u,l,s=o({},(null==n||null==(r=n.event)?void 0:r.subject)&&{emailSubject:null==n||null==(i=n.event)?void 0:i.subject}),d=new c(a,"client services",null==n||null==(u=n.event)?void 0:u.action,null==n||null==(l=n.event)?void 0:l.label,t.country,s);e.push(d)}function or(e,n,t){var r,i,u,l,s,d,v,f,p,y,g,m=o({},(null==n||null==(r=n.event)?void 0:r.clientAdvisorId)&&{clientAdvisorId:null==n||null==(i=n.event)?void 0:i.clientAdvisorId},(null==n||null==(u=n.event)?void 0:u.clientAdvisorType)&&{clientAdvisorType:null==n||null==(l=n.event)?void 0:l.clientAdvisorType},(null==n||null==(s=n.event)?void 0:s.assignedStores)&&{assignedStores:null==n||null==(d=n.event)?void 0:d.assignedStores},(null==n||null==(v=n.event)?void 0:v.storeId)&&{storeId:null==n||null==(f=n.event)?void 0:f.storeId},(null==n||null==(p=n.event)?void 0:p.clientAdvisorStoreId)&&{clientAdvisorStoreId:null==n||null==(y=n.event)?void 0:y.clientAdvisorStoreId}),h=new c(a,"client-advisor",null==n||null==(g=n.event)?void 0:g.action,void 0,t.country,m);e.push(h)}var ir=["funhouseNavigation.back","funhouseNavigation.clickNavigationBottonLink"],ar=["funhouseNavigation.itemClick","funhouseNavigation.close","funhouseNavigation.open"],cr=["gucci.com","guccidigital.com","regiongold.com","localhost"];function ur(e){var n=cr.some(function(n){return e.includes(n)});if(""===e||!n)return"referral page";var t=new URL(e).pathname.slice(1).replace(/\/$/,"").split("/");switch(!0){case 2===t.length:return"home";case"st"===t[2]&&"newsearchpage"===t[3]:return"search";case"ca"===t[2]:return"category";case"co"===t[2]:return"collection";case"pr"===t[2]:return"product page";case"st"===t[2]&&"capsule"===t[3]:return"capsule";case"lo"===t[2]&&t[t.length-1].indexOf("-c-")>=0:return"looks grid";case"lo"===t[2]&&t[t.length-1].indexOf("-p-")>=0:return"look page";case"cart"===t[2]:return"shopping bag";case"checkout"===t[2]&&"orderConfirmation"===t[3]:return"order confirmation";case"store"===t[2]:return"store";case"wishlist"===t[2]&&"saved-items"===t[3]:return"saved items";default:return"other page"}}var lr="search",sr=function(e,n){return function(t){var r={event:a,category:lr,action:ur(t.event.referrer),label:t.event.query,searchResultsCount:t.event.hits,country:n.country};e.push(r)}},dr=function(e,n){return function(t){e.push({event:a,category:lr,action:"click on links on searchbox",label:t.event.label,country:n.country})}},vr=function(e,n){return function(t){var r=o({event:Qt,searchTerm:t.event.searchTerm,searchCat:t.event.searchCat,searchOrigin:"search engine"},void 0!==t.event.referrer&&{referrer:ur(t.event.referrer)},{country:n.country});e.push(r)}},fr=function(e,n){return function(t){e.push({event:er,searchTerm:t.event.searchTerm,searchCat:t.event.searchCat,searchOrigin:"search engine",searchResultsCount:t.event.searchResultsCount,country:n.country})}},pr=function(e,n){return function(t){var r=t.event.abTestID+":"+t.event.abTestVariantID+":"+t.event.indexUsed;e.push({event:a,category:"Algolia",action:"Assigned to Campaign",label:r,algolia_experiment_info:r,country:n.country})}},yr=["funhouseTickerTape.display","funhouseTickerTape.displayMessage","funhouseTickerTape.interaction","funhouseTickerTape.clickOnItem"],gr="product grid",mr=["optimizely.experiment"],hr={event:a};function kr(e){var n,t;return o({},hr,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label})}function br(e){var n,t;return o({},kr(e),{urlDestination:null==e||null==(n=e.event)?void 0:n.urlDestination,ctaLabel:null==e||null==(t=e.event)?void 0:t.ctaLabel})}var Cr=["contactUsDrawer.clientServices"],wr="filter",Sr="search-result-page",_r={event:a};function Er(e){var n,t,r;return o({},_r,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,urlDestination:null==e||null==(r=e.event)?void 0:r.urlDestination})}var Or={event:a};function Ar(e){var n,t,r,i;return o({},Or,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,mosaicName:null==e||null==(r=e.event)?void 0:r.mosaicName,mosaicTilesNumber:null==e||null==(i=e.event)?void 0:i.mosaicTilesNumber})}var Tr=["funhousePromoBanner.display"],Pr="product page",xr="size selector drawer",Lr="find in store drawer",Dr=["virtualTryOn.view","virtualTryOn.open","virtualTryOn.close","virtualTryOn.generic"],Ir=Rr(n());function Rr(e){var n=Dt.byCountry(e),v=Bt(e),f=new t({country:e,currency:v,exchangeRate:n}),p=new d(r.dataLayer);return new Map([].concat(Array.from(function(e,n){return new Map([].concat(Array.from(new Map(dt.map(function(t){return[t,function(t){return function(e,n,t){var r,i,a,c,u,l=o({},st,{action:null==n||null==(r=n.event)?void 0:r.action,label:null==n||null==(i=n.event)?void 0:i.label,storeId:null==n||null==(a=n.event)?void 0:a.storeId,storeName:null==n||null==(c=n.event)?void 0:c.storeName},n&&n.event&&n.event.sku&&{sku:null==n||null==(u=n.event)?void 0:u.sku},{country:t.country});e.push(l)}(e,t,n)}]}))),[["bookanappointment.submitted",function(t){return function(e,n,t){var r,i,a,c,u,l,s=o({},st,{action:"submitted",label:null==n||null==(r=n.event)?void 0:r.label,storeId:null==n||null==(i=n.event)?void 0:i.storeId,storeName:null==n||null==(a=n.event)?void 0:a.storeName,storeSlug:null==n||null==(c=n.event)?void 0:c.storeSlug},n&&n.event&&n.event.sku&&{sku:null==n||null==(u=n.event)?void 0:u.sku},{bookanappointment_code:null==n||null==(l=n.event)?void 0:l.bookanappointment_code,country:t.country});e.push(s)}(e,t,n)}],["bookanappointment.error",function(t){return function(e,n,t){var r,i,a,c,u,l=o({},st,{action:"error",label:null==n||null==(r=n.event)?void 0:r.label,message:null==n||null==(i=n.event)?void 0:i.message,storeId:null==n||null==(a=n.event)?void 0:a.storeId,storeName:null==n||null==(c=n.event)?void 0:c.storeName},n&&n.event&&n.event.sku&&{sku:null==n||null==(u=n.event)?void 0:u.sku},{country:t.country});e.push(l)}(e,t,n)}]]))}(p,f).entries()),Array.from(function(e,n){var t=function(t){return s(e,t,n)};return new Map([["view_item_list",function(t){return function(e,n,t){for(var r=t.country,i=n.event.language,a=[].concat(n.event.items),c=Tt.COUNTRIES.includes(r.toLowerCase())?Tt.JP_KR_LENGTH:Tt.MAX_LENGTH,u=n.event.item_list_id.replace("/"+r+"/"+i,"");a.length;){var l,s,d=a.splice(0,c),v={event:"view_item_list",category:"ecommerce",action:"productImpression",country:r,label:null!=(l=null==n||null==(s=n.event)?void 0:s.label)?l:"",item_list_id:u,item_list_name:n.event.item_list_name,items:d.map(function(e){return bt(e,t)}).map(function(e){return o({},e,{item_list_id:u})})};e.push(v)}}(e,t,n)}],["view_item",function(t){return function(e,n,t){var r,o,i={event:"view_item",category:"ecommerce",action:"viewProductDetail",country:t.country,label:null!=(r=null==n||null==(o=n.event)?void 0:o.label)?r:"",items:[bt(n.event,t)]};e.push(i)}(e,t,n)}],["select_item",function(t){return function(e,n,t){var r,i,a=n.event.item_list_id.replace("/"+n.event.country+"/"+n.event.language,""),c=n.event.items.map(function(e){return bt(e,t)}).map(function(e){return o({},e,{item_list_id:a})}),u={event:"select_item",category:"ecommerce",action:"productClick",country:t.country,label:null!=(r=null==n||null==(i=n.event)?void 0:i.label)?r:"",item_list_id:a,item_list_name:n.event.item_list_name,items:c};e.push(u)}(e,t,n)}],["add_to_cart",function(t){return function(e,n,t,r){var i,a,c,u,l,s=t.event,d=null!=(i=e.getViewItemProduct(null==s?void 0:s.item_id))?i:e.getViewItemListProduct(null==s?void 0:s.item_id);if(!d)throw new Error("viewItemProduct is missing from previous event in the funnel");var v={event:"add_to_cart",category:"ecommerce",action:"addToCart",country:r.country,label:null!=(a=null==t||null==(c=t.event)?void 0:c.label)?a:"",add_to_cart_type:null==s?void 0:s.addToCartType,items:[o({},d)]};n.push(v),ut.realtimeGA("add_to_cart","ecommerce","addToCart",null!=(u=null==t||null==(l=t.event)?void 0:l.label)?u:"",r.country)}(r.dataLayer,e,t,n)}],["remove_from_cart",function(t){return function(e,n,t){var r,o,i={event:"remove_from_cart",category:"ecommerce",action:"removeFromCart",country:t.country,label:null!=(r=null==n||null==(o=n.event)?void 0:o.label)?r:"",items:[bt(n.event,t)]};e.push(i)}(e,t,n)}],["view_cart",function(t){return function(e,n,t){var r,o,i,a=null!=(r=null==n||null==(o=n.event)?void 0:o.label)?r:"",c={event:"view_cart",category:"ecommerce",action:"shoppingBagCheckout",label:a=_t(a)?a:"",country:t.country,items:null==n||null==(i=n.event)?void 0:i.items.map(function(e){return ht(e,t)})};e.push(c)}(e,t,n)}],["view_sign_in_info",function(t){return function(e,n,t){var r,o,i,a=null==(r=n.event)?void 0:r.items.map(function(e){return ht(e,t)});if(!a)throw new Error("productsInCart is missing from previous event in the funnel");var c={event:"view_sign_in_info",category:"ecommerce",action:"checkoutSignin",label:null!=(o=null==n||null==(i=n.event)?void 0:i.label)?o:"",items:a,country:t.country};e.push(c)}(e,t,n)}],["begin_checkout",function(t){return function(e,n,t){var r,o,i,a,c,u,l,s,d=null!=(r=null==n||null==(o=n.event)?void 0:o.category)?r:"";d=St(d)?d:"";var v=null!=(i=null==n||null==(a=n.event)?void 0:a.label)?i:"";v=_t(v)?v:"";var f={event:"begin_checkout",category:d,action:null!=(c=null==n||null==(u=n.event)?void 0:u.action)?c:"",label:v,items:n.event.items.map(function(e){return ht(e,t)}),country:t.country,detail_checkout_button:null!=(l=null==n||null==(s=n.event)?void 0:s.detail_checkout_button)?l:""};e.push(f)}(e,t,n)}],["autosuggestion_form",function(t){return function(e,n,t){var r,o,i,a,c,u,l=null!=(r=null==n||null==(o=n.event)?void 0:o.category)?r:"";l=St(l)?l:"";var s=null!=(i=null==n||null==(a=n.event)?void 0:a.label)?i:"";s=_t(s)?s:"";var d={event:"autosuggestion_form",category:l,action:null!=(c=null==n||null==(u=n.event)?void 0:u.action)?c:"",label:s,country:t.country};e.push(d)}(e,t,n)}],["add_payment_info",function(t){return function(e,n,t){var r,o,i,a,c={event:"add_payment_info",category:"checkout",action:"checkoutOptions",label:"payment",payment_type:null==n||null==(r=n.event)?void 0:r.paymentOption,country:t.country,items:null!=(o=null==(i=n.event)||null==(a=i.items)?void 0:a.map(function(e){return ht(e,t)}))?o:ft(function(e){return ht(e,t)})};e.push(c),ut.realtimeGA("add_payment_info","checkout","checkoutOptions","payment",t.country)}(e,t,n)}],["view_shipping_info",function(t){return function(e,n){e.push({event:"view_shipping_info",category:"checkout",action:"checkoutView",label:"shipping",country:n.country}),ut.realtimeGA("view_shipping_info","checkout","checkoutView","shipping",n.country)}(e,n)}],["add_shipping_info",function(t){return function(e,n,t,r){var o,i,a,c,u,l=null!=(o=t.event.deliveryMethod)?o:e.getDeliveryMethod(),s={event:"add_shipping_info",shipping_tier:null!=(i=t.event.shippingOption)?i:l+"-"+t.event.selectedShippingOption,category:"checkout",action:"checkoutOptions",label:"shipping",country:r.country,items:null!=(a=null==(c=t.event)||null==(u=c.items)?void 0:u.map(function(e){return ht(e,r)}))?a:ft(function(e){return ht(e,r)})};n.push(s),ut.realtimeGA("add_shipping_info","checkout","checkoutOptions","shipping",r.country)}(r.dataLayer,e,t,n)}],["view_gifting_info",function(t){return function(e,n,t){var r,o,i,a={event:"view_gifting_info",category:"checkout",action:"checkoutView",label:"gifting",country:t.country,items:null!=(r=null==(o=n.event)||null==(i=o.items)?void 0:i.map(function(e){return ht(e,t)}))?r:ft(function(e){return ht(e,t)})};e.push(a),ut.realtimeGA("view_gifting_info","checkout","checkoutView","gifting",t.country)}(e,t,n)}],["add_gifting_info",function(t){return function(e,n,t){var r,o,i,a,c,u,l,s={event:"add_gifting_info",category:"checkout",action:"checkoutOptions",label:"message_"+(null!=(r=null==(o=n.event)?void 0:o.message)&&r),country:t.country,items:null!=(i=null==(a=n.event)||null==(c=a.items)?void 0:c.map(function(e){return ht(e,t)}))?i:ft(function(e){return ht(e,t)})};e.push(s),ut.realtimeGA("add_gifting_info","checkout","checkoutOptions","message_"+(null!=(u=null==(l=n.event)?void 0:l.message)&&u),t.country)}(e,t,n)}],["purchase",function(t){return function(e,n,t){var r=n.event.order_number;if(null===At()||At()!==r){window.sessionStorage.setItem(Ot,r);var o=t.exchangeRate,i=Number(o.convert(parseFloat(n.event.order_total_value)).toFixed(2)),a=Number(o.convert(parseFloat(n.event.tax_amount)).toFixed(2)),c=Number(o.convert(parseFloat(n.event.shipping_amount)).toFixed(2)),u=o.getCurrency(),l={event:"purchaseGA4",category:"ecommerce",action:Et,label:"",transaction_id:r,value:i,tax:a,shipping:c,local_value:n.event.order_total_value,local_tax:n.event.tax_amount,local_shipping:n.event.shipping_amount,local_currency:t.currency,currency:u,purchaseShippingOption:n.event.purchaseShippingOption,purchasePaymentOption:n.event.purchasePaymentOption,purchasePackagingOption:n.event.purchasePackagingOption,purchaseGiftMessageOption:n.event.purchaseGiftMessageOption,country:t.country,fourGiftCodeAfter:n.event.fourGiftCodeAfter,items:n.event.items.map(function(e){return ht(e,t)})};e.push(l),ut.realtimeGA("purchase","ecommerce",Et,"",t.country)}}(e,t,n)}],["place_order",function(t){return function(e,n){e.push({event:"place_order",category:"checkout",action:"checkoutclick",label:"place_order",country:n.country})}(e,n)}],["view_payment_info",function(t){return function(e,n){e.push({event:"view_payment_info",category:"checkout",action:"checkoutView",label:"payment",country:n.country}),ut.realtimeGA("view_payment_info","checkout","checkoutView","payment",n.country)}(e,n)}],["add_sign_in_info",function(t){return function(e,n,t){e.push({event:"add_sign_in_info",category:"checkout",action:"checkoutOptions",label:"signIn",checkoutLoginType:n.event.checkoutLoginType,country:t.country})}(e,t,n)}],["save_to_wishlist_cart_item",t],["place_order_error",t],["edit_cart_item",t],["shipping_validation_error",t],["amazon_error",t],["payment_form_error",t],["paypal_express_cart",t],["amazon_express_cart",t],["checkout_sidebar",t],["four_gift_event",t],["merge_overlay",t],["jp_navigation_step",t],["apple-error",t],["apple-pay-click",t],["collect-in-store",function(t){return function(e,n,t){var r,i,u,l,s,d,v,f,p,y,g=o({},(null==n||null==(r=n.event)?void 0:r.storeId)&&{storeId:null==n||null==(i=n.event)?void 0:i.storeId},(null==n||null==(u=n.event)?void 0:u.storeName)&&{storeName:null==n||null==(l=n.event)?void 0:l.storeName},(null==n||null==(s=n.event)?void 0:s.storeCity)&&{storeCity:null==n||null==(d=n.event)?void 0:d.storeCity},(null==n||null==(v=n.event)?void 0:v.storeState)&&{storeState:null==n||null==(f=n.event)?void 0:f.storeState}),m=new c(a,"checkout",null==n||null==(p=n.event)?void 0:p.action,null==n||null==(y=n.event)?void 0:y.label,t.country,g);e.push(m)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["herosinglecomponent.show",function(t){return function(e,n,t){var r=o({},Ut(n),{action:"displayHeroSingle",country:t.country});e.push(r)}(e,t,n)}],["herosinglecomponent.tap",function(t){return function(e,n,t){var r,i=o({},Ut(n),{action:"actionHeroSingle",actionElement:null==n||null==(r=n.event)?void 0:r.actionElement,country:t.country});e.push(i)}(e,t,n)}],["herocarouselcomponent.mouseover",function(t){return function(e,n,t){var r=o({},Vt(n),{action:"overHeroCarousel",country:t.country});e.push(r)}(e,t,n)}],["herocarouselcomponent.mouseclick",function(t){return function(e,n,t){var r=o({},Vt(n),{action:"actionHeroCarousel",country:t.country});e.push(r)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["routingupcomponent.show",function(t){return function(e,n,t){var r=o({},Yt(n),{action:"displayRoutingUp",country:t.country});e.push(r)}(e,t,n)}],["routingupcomponent.tap",function(t){return function(e,n,t){var r,i=o({},Yt(n),{action:"actionRoutingUp",actionElement:null==n||null==(r=n.event)?void 0:r.actionElement,country:t.country});e.push(i)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["featuredcomponent.show",function(t){return function(e,n,t){var r=o({},xt(n),{action:"displayFeatured",country:t.country});e.push(r)}(e,t,n)}],["featuredcomponent.tap",function(t){return function(e,n,t){var r,i=o({},xt(n),{action:"actionFeatured",actionElement:null==n||null==(r=n.event)?void 0:r.actionElement,country:t.country});e.push(i)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["productcomponent.show",function(t){return function(e,n,t){var r=o({},Wt(n),{action:"displayProductComponent",country:t.country});e.push(r)}(e,t,n)}],["productcomponent.tap",function(t){return function(e,n,t){var r,i,a=o({},Wt(n),{action:null!=n&&null!=(r=n.event)&&r.isCategory?"actionProductCategoryComponent":"actionProductComponent",actionElement:null==n||null==(i=n.event)?void 0:i.actionElement,country:t.country});e.push(a)}(e,t,n)}],["productcomponent.arrow.tap",function(t){return function(e,n,t){var r=o({},Ht(n),Jt(n),Kt(n),{action:"actionProductComponentArrow",country:t.country});e.push(r)}(e,t,n)}],["productcomponent.arrow.over",function(t){return function(e,n,t){var r=o({},Ht(n),Jt(n),{action:"overProductComponentArrow",country:t.country});e.push(r)}(e,t,n)}],["productcomponent.bar",function(t){return function(e,n,t){var r=o({},Ht(n),Kt(n),{action:"actionProductComponentBar",country:t.country});e.push(r)}(e,t,n)}],["productcomponent.drag",function(t){return function(e,n,t){var r=o({},Ht(n),Kt(n),{action:"actionProductComponentDrag",country:t.country});e.push(r)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map(Ft.map(function(t){return[t,function(t){return s(e,t,n)}]}))}(p,f).entries()),Array.from(function(e,n){return new Map(Nt.map(function(t){return[t,function(t){return function(e,n,t){var r,c,u,l=n.event;l||i("Error: event not found");var s=o({event:a,category:null!=(r=l.category)?r:i("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:i("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.minicartCurrentPage&&{minicartCurrentPage:l.minicartCurrentPage},{country:t.country});e.push(s)}(e,t,n)}]}))}(p,f).entries()),Array.from(function(e,n){return new Map(Cr.map(function(t){return[t,function(t){return s(e,t,n)}]}))}(p,f).entries()),Array.from(function(e,n){return new Map(Rt.map(function(t){return[t,function(t){return s(e,t,n)}]}))}(p,f).entries()),Array.from(function(e,n){return new Map(ir.map(function(t){return[t,function(t){return s(e,t,n)}]}))}(p,f).entries()),Array.from(function(e,n){return new Map(ar.map(function(t){return[t,function(t){return function(e,n,t){var r,c,u,l=n.event;l||i("Error: event not found");var s=o({event:a,category:null!=(r=l.category)?r:i("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:i("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.menuLabelsDisplayed&&{menuLabelsDisplayed:l.menuLabelsDisplayed},l.menuCurrentPage&&{menuCurrentPage:l.menuCurrentPage},l.menuUrlDestination&&{menuUrlDestination:l.menuUrlDestination},{country:t.country});e.push(s)}(e,t,n)}]}))}(p,f).entries()),Array.from(function(e,n){return new Map(mr.map(function(t){return[t,function(t){return function(e,n,t){var r,c,u,l=n.event;l||i("Error: event not found");var s=o({event:a,category:null!=(r=l.category)?r:i("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:i("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.experiments&&{experiments:l.experiments},{country:t.country});e.push(s)}(e,t,n)}]}))}(p,f).entries()),Array.from(function(e,n){return new Map(yr.map(function(t){return[t,function(t){return function(e,n,t){var r,c,u,l=n.event;l||i("Error: event not found");var s=o({event:a,category:null!=(r=l.category)?r:i("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:i("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.linkDestination&&{linkDestination:l.linkDestination},{country:t.country});e.push(s)}(e,t,n)}]}))}(p,f).entries()),Array.from(function(e,n){return new Map(Tr.map(function(t){return[t,function(t){return function(e,n,t){var r,c,u,l=n.event;l||i("Error: event not found");var s=o({event:a,category:null!=(r=l.category)?r:i("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:i("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.linkDestination&&{linkDestination:l.linkDestination},{country:t.country});e.push(s)}(e,t,n)}]}))}(p,f).entries()),Array.from(function(e,n){return new Map([].concat(Array.from(new Map(qt.map(function(t){return[t,function(t){return s(e,t,n)}]}))),[["myAccount.trackUserLogged",function(t){return function(e,n,t){var r,o,i,c,u,l,s,d,v,f,p,y,g=0;void 0!==(null==t||null==(r=t.event)||null==(o=r.data)?void 0:o.is_logged)&&(g=null!=t&&null!=(p=t.event)&&null!=(y=p.data)&&y.is_logged?1:0);var m={event:a,category:null!=(i=null==t||null==(c=t.event)?void 0:c.category)?i:"my account",action:null!=(u=null==t||null==(l=t.event)?void 0:l.action)?u:"track user logged",label:null==t||null==(s=t.event)?void 0:s.label,country:n.country,klientid:null!=(d=null==t||null==(v=t.event)||null==(f=v.data)?void 0:f.klientid)?d:"",userLogged:g};e.push(m)}(e,n,t)}]]))}(p,f).entries()),Array.from(function(e,n){return new Map([["storediscovery.stores-map-move",function(t){return tr(e,t,n)}],["storediscovery.filter-stores",function(t){return tr(e,t,n)}],["storediscovery.page_view",function(t){return tr(e,t,n)}],["storediscovery.store-search",function(t){return nr(e,n,t)}],["storediscovery.find-in-store-search",function(t){return nr(e,n,t)}],["storediscovery.stores-map-zoom",function(t){return function(e,n,t){var r,o,i,c={event:a,action:null==n||null==(r=n.event)?void 0:r.zoom_type,label:null==n||null==(o=n.event)?void 0:o.action,category:null==n||null==(i=n.event)?void 0:i.category,country:t.country};e.push(c)}(e,t,n)}],["storediscovery.store-pin",function(t){return function(e,n,t){var r,o,i,u,l,s,d,v,f,p,y,g={storeName:null==n||null==(r=n.event)||null==(o=r.storeDetails)?void 0:o.name,storeCity:null==n||null==(i=n.event)||null==(u=i.storeDetails)?void 0:u.city,storeCountry:null==n||null==(l=n.event)||null==(s=l.storeDetails)?void 0:s.country,storeCategory:null==n||null==(d=n.event)||null==(v=d.storeDetails)?void 0:v.category},m=new c(a,null==n||null==(f=n.event)?void 0:f.category,null==n||null==(p=n.event)?void 0:p.action,null==n||null==(y=n.event)?void 0:y.label,t.country,g);e.push(m)}(e,t,n)}],["storediscovery.store-view-click",function(t){return function(e,n,t){var r,i,u,l,s,d,v,f,p,y,g,m=o({},(null==n||null==(r=n.event)||null==(i=r.storeDetails)?void 0:i.storeName)&&{storeName:null==n||null==(u=n.event)||null==(l=u.storeDetails)?void 0:l.storeName},(null==n||null==(s=n.event)||null==(d=s.storeDetails)?void 0:d.storeSlug)&&{storeSlug:null==n||null==(v=n.event)||null==(f=v.storeDetails)?void 0:f.storeSlug}),h=new c(a,null==n||null==(p=n.event)?void 0:p.category,null==n||null==(y=n.event)?void 0:y.action,null==n||null==(g=n.event)?void 0:g.label,t.country,m);e.push(h)}(e,t,n)}],["storediscovery.error",function(t){return tr(e,t,n)}],["storediscovery.view_search_results",function(t){return nr(e,n,t,er)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["clientServices.emailus",function(t){return rr(e,t,n)}],["clientServices.clickToCall",function(t){return rr(e,t,n)}],["clientServices.messageUs",function(t){return rr(e,t,n)}],["clientServices.page_view",function(t){return rr(e,t,n)}]])}(p,f).entries()),Array.from(function(e){var n=function(n){return function(e,n){var t,r;if(n&&n.event){var i=n.event.country,a=o({event:"genericEvent",category:"my gucci appointments",action:null==n||null==(t=n.event)?void 0:t.action,label:null==n||null==(r=n.event)?void 0:r.label},i&&{country:i});e.push(a)}}(e,n)};return new Map([["myappointmetsreminder.available",n],["myappointmetsreminder.seen",n],["myappointmetsreminder.click",n]])}(p).entries()),Array.from(function(e,n){var t=function(e,n){function t(t,r){s(e,u($t,t,r),n)}return{trackOpenSizeSelect:function(t){e.push({event:a,category:$t,action:"click to open size select",label:t.event.styleCode,sizeOptions:t.event.sizeOptions,country:n.country})},trackScrollCarousel:function(t){e.push({event:a,category:$t,action:"scroll alternative views",label:t.event.styleCode,indexCarousel:t.event.indexCarousel,country:n.country})},trackClickCarouselArrows:function(t){e.push({event:a,category:$t,action:"click on arrows to navigate alternative views",label:t.event.styleCode,indexCarousel:t.event.indexCarousel,country:n.country})},trackClickSizeGuideLink:function(e){return t("click on size guide link in pdp",e.event.productCategory)},trackZoomIn:function(e){return t("zoom in",e.event.styleCode)},trackZoomInNextArrow:function(e){return t("zoom in - click on next arrow",e.event.styleCode)},trackZoomInPreviousArrow:function(e){return t("zoom in - click on previous arrow",e.event.styleCode)},trackZoomInProductDetailsButton:function(e){return t("zoom in - click on product details button",e.event.styleCode)},trackOpenVariationPanel:function(e){return t("click to open variation panel",e.event.styleCode)},trackClickPdpAccordion:function(e){return t("click on pdp accordion",e.event.accordionTitle)},trackScrollCrossSell:function(t){return function(t,r){Zt({name:r.name,event:o({},r.event,{action:"scroll item - CrossSell",category:"personalization"})},n.country,e)}(0,t)},trackClickOnFindInStoreLink:function(e){return t("click on find in store link",e.event.styleCode)},trackClickOnFindInStoreButton:function(e){return t("click on find in store button",e.event.styleCode)},trackClickOnAddToCart:function(t){e.push({event:a,category:$t,action:"click on addToCart",label:t.event.styleCode,sku:t.event.sku,country:n.country})},trackAddToCartFailed:function(t){e.push({event:a,category:$t,action:"addToCart fail",label:t.event.styleCode,country:n.country,sku:t.event.sku,errorMessage:t.event.errorMessage})},trackStartLoading360View:function(e){return t("startLoading360View",e.event.styleCode)},trackRender360View:function(e){return t("display360View",e.event.styleCode)},trackClick360View:function(e){return t("action360View",e.event.styleCode)},trackPlay360View:function(e){return t("play360View",e.event.styleCode)},trackRenderEditorialView:function(e){return t("displayEditorialView",e.event.styleCode)},trackEnabledEditorialView:function(e){return t("enabledEditorialView",e.event.styleCode)},trackDisabledEditorialView:function(e){return t("disabledEditorialView",e.event.styleCode)},trackClickOnViewSimilarProducts:function(e){return t("click on view similar products",e.event.styleCode)},trackClickOnContactUs:function(e){return t("click on contact us",e.event.styleCode)},trackClickOnContactUsButton:function(e){return t("click on contact us button",e.event.styleCode)},trackClickOnContactUsLink:function(e){return t("click on contact us link",e.event.styleCode)},trackClickOnCallUs:function(e){return t("click on call us",e.event.styleCode)},trackClickOnOpenSizeOverview:function(e){return t("click to open size overview",e.event.styleCode)},trackClickOnCloseSizeOverview:function(e){return t("click on close in size overview",e.event.styleCode)},trackSelectProductSizeOverview:function(e){return t("click on product in size overview",e.event.styleCode)},trackClickShopThisSizeOverview:function(e){return t("click on shop on line in size overview",e.event.styleCode)},trackHasBagSizeSelector:function(e){return t("hasBagSizeSelector",e.event.styleCode)},trackDisplayBagSizeSelectorCTA:function(e){return t("displayBagSizeSelectorCTA",e.event.styleCode)},trackOpenMonogrammingOverlay:function(e,n){return function(t){e.push({event:a,category:$t,action:"monogram overlay open",label:t.event.styleCode,country:n})}},trackCloseMonogrammingOverlay:function(e,n){return function(t){e.push({event:a,category:$t,action:"monogram overlay closed",label:t.event.styleCode,country:n})}},trackSelectMonogramColor:function(e,n){return function(t){e.push({event:a,category:$t,action:"monogram color selection",label:t.event.colorCode,country:n})}},trackPdpHasAGECLink:function(e){return t("hasAGECLink: "+(e.event.hasAGECLink?"true":"false"),e.event.styleCode)},trackPdpDisplayAGECLink:function(e){return t("displayAGECLink",e.event.styleCode)},trackClickOnAGECLink:function(e){return t("clickOnAGECLink",e.event.styleCode)},trackDisplaySustainabilityIcon:function(e){return t("displaySustainabilityIcon",e.event.styleCode)},trackClickSustainabilityIcon:function(e){return t("clickSustainabilityIcon",e.event.styleCode)},trackViewApplePayExpressButton:function(e){return t(e.event.action,e.event.label)}}}(e,n);return new Map([["productPage.clickToOpenSizeSelect",t.trackOpenSizeSelect],["productPage.clickOnSizeGuideLinkInPdp",t.trackClickSizeGuideLink],["productPage.scrollAlternativeViews",t.trackScrollCarousel],["productPage.clickOnArrowsToNavigateAlternativeViews",t.trackClickCarouselArrows],["productPage.zoomIn",t.trackZoomIn],["productPage.zoomInClickOnNextArrow",t.trackZoomInNextArrow],["productPage.zoomInClickOnPreviousArrow",t.trackZoomInPreviousArrow],["productPage.zoomInClickOnProductDetailsButton",t.trackZoomInProductDetailsButton],["productPage.clickToOpenVariationPanel",t.trackOpenVariationPanel],["productPage.clickOnPdpAccordion",t.trackClickPdpAccordion],["personalization.scrollItemCrossSell",t.trackScrollCrossSell],["productPage.clickOnFindInStoreLink",t.trackClickOnFindInStoreLink],["productPage.clickOnFindInStoreButton",t.trackClickOnFindInStoreButton],["productPage.clickOnAddToCart",t.trackClickOnAddToCart],["productPage.addToCartFailed",t.trackAddToCartFailed],["productPage.clickOnViewSimilarProducts",t.trackClickOnViewSimilarProducts],["productPage.clickOnContactUs",t.trackClickOnContactUs],["productPage.clickOnContactUsButton",t.trackClickOnContactUsButton],["productPage.clickOnContactUsLink",t.trackClickOnContactUsLink],["productPage.clickOnCallUs",t.trackClickOnCallUs],["productPage.startLoading360View",t.trackStartLoading360View],["productPage.render360View",t.trackRender360View],["productPage.clickOn360View",t.trackClick360View],["productPage.playOn360View",t.trackPlay360View],["productPage.renderEditorialView",t.trackRenderEditorialView],["productPage.enabledEditorialView",t.trackEnabledEditorialView],["productPage.disabledEditorialView",t.trackDisabledEditorialView],["productPage.clickOnOpenSizeOverview",t.trackClickOnOpenSizeOverview],["productPage.clickOnCloseSizeOverview",t.trackClickOnCloseSizeOverview],["productPage.selectProductSizeOverview",t.trackSelectProductSizeOverview],["productPage.clickShopThisSizeOverview",t.trackClickShopThisSizeOverview],["productPage.hasBagSizeSelector",t.trackHasBagSizeSelector],["productPage.displayBagSizeSelectorCTA",t.trackDisplayBagSizeSelectorCTA],["productPage.monogramOpenOverlay",t.trackOpenMonogrammingOverlay(e,n.country)],["productPage.monogramCloseOverlay",t.trackCloseMonogrammingOverlay(e,n.country)],["productPage.monogramSelectColor",t.trackSelectMonogramColor(e,n.country)],["productPage.hasAGECLink",t.trackPdpHasAGECLink],["productPage.displayAGECLink",t.trackPdpDisplayAGECLink],["productPage.clickOnAGECLink",t.trackClickOnAGECLink],["productPage.displaySustainabilityIcon",t.trackDisplaySustainabilityIcon],["productPage.clickSustainabilityIcon",t.trackClickSustainabilityIcon],["productPage.view-apple-pay-express-button",t.trackViewApplePayExpressButton]])}(p,f).entries()),Array.from(function(e,n){var t=function(e,n){function t(t,r){s(e,u(Pr,t,r),n)}function r(t,r){e.push({event:a,category:Pr,action:t,label:r.event.styleCode,country:n.country,indexCarousel:r.event.indexCarousel,mediaType:r.event.mediaType})}return{trackDisplayProductImage:function(e){r("displayProductImage",e)},trackSwipeNextProductImage:function(e){t("swipeNextProductImage",e.event.styleCode)},trackSwipePreviousProductImage:function(e){t("swipePreviousProductImage",e.event.styleCode)},trackActionThumbnail:function(e){r("actionThumbnail",e)},trackArrowNextThumbnails:function(e){t("arrowNextThumbnails",e.event.styleCode)},trackArrowPreviousThumbnails:function(e){t("arrowPreviousThumbnails",e.event.styleCode)},trackExpandThumbnails:function(e){t("expandThumbnails",e.event.styleCode)},trackClickOnPrimaryContactUsCta:function(e){t("click on primary contact us cta",e.event.styleCode)},trackActionOpenedPDPAccordion:function(e){t("actionOpenedPDPAccordion",e.event.label)},trackActionClosedPDPAccordion:function(e){t("actionClosedPDPAccordion",e.event.label)},trackActionSizeSelector:function(e){t("actionSizeSelector",e.event.styleCode)},trackActionFis:function(e){t("actionFindInStoreLink",e.event.label)},trackActionDigitalPassportLink:function(e){t("actionDigitalPassportLink",e.event.label)},trackDisplayReadMoreDetails:function(e){t("displayReadMoreDetails",e.event.styleCode)},trackActionReadMoreDetails:function(e){t("actionReadMoreDetails",e.event.styleCode)},trackactionSlideVideoControl:function(e){t("actionSlideVideoControl",e.event.label)},trackactionThumbnailVideoControl:function(e){t("actionThumbnailVideoControl",e.event.label)}}}(e,n),r=function(e,n){function t(e,n,t){e.push({event:a,category:xr,action:t,country:n.country})}return{trackOpened:function(){t(e,n,"opened")},trackClosed:function(){t(e,n,"closed")},trackActionSelectSize:function(t){e.push({event:a,category:xr,action:"actionSelectSize",label:t.event.styleCode,sizeOptions:t.event.sizeOptions,selectedSize:t.event.selectedSize,selectedSku:t.event.selectedSku,selectedSizeCode:t.event.selectedSizeCode,country:n.country})},trackOpenSizeGuide:function(){t(e,n,"actionOpenSizeGuide")},trackSizeGuideTabClick:function(t){e.push({event:a,category:xr,action:"actionSizeGuideTab",country:n.country,label:t.event.tab})},trackBackToSizes:function(){t(e,n,"actionBackToSizes")}}}(e,n),o=function(e,n){return{trackFisEventNoLabel:function(t){return function(){return function(t){e.push({event:a,category:Lr,action:t,country:n.country})}(t)}},trackFisEventLabel:function(t){return function(r){return function(t,r){e.push({event:a,category:Lr,action:t,label:r.event.label,country:n.country})}(t,r)}}}}(e,n);return new Map([["productPage.displayProductImage",t.trackDisplayProductImage],["productPage.swipeNextProductImage",t.trackSwipeNextProductImage],["productPage.swipePreviousProductImage",t.trackSwipePreviousProductImage],["productPage.actionThumbnail",t.trackActionThumbnail],["productPage.arrowNextThumbnails",t.trackArrowNextThumbnails],["productPage.arrowPreviousThumbnails",t.trackArrowPreviousThumbnails],["productPage.expandThumbnails",t.trackExpandThumbnails],["productPage.clickOnPrimaryContactUsCta",t.trackClickOnPrimaryContactUsCta],["productPage.actionClosedPDPAccordion",t.trackActionClosedPDPAccordion],["productPage.actionOpenedPDPAccordion",t.trackActionOpenedPDPAccordion],["productPage.actionSizeSelector",t.trackActionSizeSelector],["productPage.actionFindInStoreLink",t.trackActionFis],["productPage.actionDigitalPassportLink",t.trackActionDigitalPassportLink],["productPage.displayReadMoreDetails",t.trackDisplayReadMoreDetails],["productPage.actionReadMoreDetails",t.trackActionReadMoreDetails],["productPage.actionSlideVideoControl",t.trackactionSlideVideoControl],["productPage.actionThumbnailVideoControl",t.trackactionThumbnailVideoControl],["sizeSelectorDrawer.opened",r.trackOpened],["sizeSelectorDrawer.closed",r.trackClosed],["sizeSelectorDrawer.actionSelectSize",r.trackActionSelectSize],["sizeSelectorDrawer.sizeGuideOpened",r.trackOpenSizeGuide],["sizeSelectorDrawer.sizeGuideTabClick",r.trackSizeGuideTabClick],["sizeSelectorDrawer.backToSizes",r.trackBackToSizes],["findInStoreDrawer.display",o.trackFisEventNoLabel("display")],["findInStoreDrawer.closed",o.trackFisEventNoLabel("closed")],["findInStoreDrawer.moveMap",o.trackFisEventNoLabel("moveMap")],["findInStoreDrawer.zoomInMap",o.trackFisEventNoLabel("zoomInMap")],["findInStoreDrawer.zoomOutMap",o.trackFisEventNoLabel("zoomOutMap")],["findInStoreDrawer.actionPinMap",o.trackFisEventNoLabel("actionPinMap")],["findInStoreDrawer.actionOpenSizeSelect",o.trackFisEventNoLabel("actionOpenSizeSelect")],["findInStoreDrawer.actionGeolocation",o.trackFisEventNoLabel("actionGeolocation")],["findInStoreDrawer.geolocationError",o.trackFisEventNoLabel("geolocationError")],["findInStoreDrawer.actionSizeSelected",o.trackFisEventLabel("actionSizeSelected")],["findInStoreDrawer.actionAutosuggestionSearchResults",o.trackFisEventLabel("actionAutosuggestionSearchResults")],["findInStoreDrawer.actionOpenStoreAccordion",o.trackFisEventLabel("actionOpenStoreAccordion")],["findInStoreDrawer.actionCloseStoreAccordion",o.trackFisEventLabel("actionCloseStoreAccordion")],["findInStoreDrawer.actionBookAnAppointment",o.trackFisEventLabel("actionBookAnAppointment")],["findInStoreDrawer.actionContactUs",o.trackFisEventLabel("actionContactUs")]])}(p,f).entries()),Array.from(function(e,n){return new Map([["searchPage.clickOnLinksInSearchBox",dr(e,n)],["searchPage.search",sr(e,n)],["searchPage.siteSearch",vr(e,n)],["searchPage.viewSearchResults",fr(e,n)],["searchPage.algoliaAbTest",pr(e,n)]])}(p,f).entries()),Array.from(function(e,n){return new Map([["generic.capsule",function(t){return s(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["gucciapp.appbanner.click",function(t){return s(e,u("app banner","click on app banner",t.event.label),n)}],["gucciapp.appbanner.show",function(t){return s(e,u("app banner","app banner shown",t.event.label),n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["clientAdvisor.openOverlay",function(t){return or(e,t,n)}],["clientAdvisor.startSession",function(t){return or(e,t,n)}],["clientAdvisor.changeStore",function(t){return or(e,t,n)}],["clientAdvisor.logout",function(t){return or(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["livechat",function(t){return s(e,t,n)}],["videochat",function(t){return function(e,n,t){var r,i={category:n.event.category,country:t.country,agentId:n.event.agentId,agentName:n.event.agentName,location:n.event.location,callId:n.event.callId,event:a};switch(n.event.action){case"tab_shown":r=o({label:"not started",action:n.event.action.replace("_"," ")},i);break;case"tab_closed":r=o({label:void 0!==n.event.callId?"available":"not started",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},i);break;case"tab_clicked":r=o({label:void 0!==n.event.callId?"closed":"not started",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},i);break;case"call_requested":r=o({label:"started",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},i);break;case"call_connected":case"call_resumed":r=o({label:"available",action:n.event.action.replace("_"," "),videoCallActorType:"agent"},i);break;case"call_ended":r=o({label:"available",action:n.event.action.replace("_"," "),videoCallActorType:"true"===n.event.userHangup?"customer":"agent"},i);break;case"call_hold":r=o({label:"on_hold",action:n.event.action.replace("_"," "),videoCallActorType:"agent"},i);break;case"audio_toggled":r=o({label:"available",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},i);break;case"survey_feedback_submitted":case"survey_happy_clicked":case"survey_unhappy_clicked":r=o({label:"closed",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},i);break;default:r=o({label:JSON.stringify(n),action:n.event.action},i)}e.push(r)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["distanceSales",function(t){return function(e,n,t){var r="purchase"===n.event.action,i=o({event:a,action:n.event.action},!r&&{label:n.event.label},{category:n.event.category,country:t.country},r&&{distanceSalesRevenue:n.event.revenue,distanceSalesRevenueEUR:n.event.revenue?parseFloat(t.exchangeRate.convert(n.event.revenue).toFixed(2)):void 0,distanceSalesTransactionId:n.event.label});e.push(i)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["generic.event",function(t){return s(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){var t=function(e,n){function t(t,r){s(e,u(gr,t,r),n)}return{trackClickOnLoadMore:function(){return t("click on load more",function(){var e=window.location.pathname;if(e.indexOf("/search")>=0||e.indexOf("/newsearchpage")>=0)return"search-result-page";if(e.indexOf("-c-")>-1){var n=e.split("-c-")[0].split("/");return n[n.length-1]}return""}())},trackAddToWishlist:function(t){e.push({event:a,category:gr,action:"add to wishlist",label:"Logged: "+t.event.userLogged,country:n.country})},trackClickOnPromoComponent:function(e){return t("click on promo component link",e.event.label)},trackClickOnAlternativeView:function(t){e.push({event:a,category:gr,action:"click on alternative view",label:t.event.styleCode+" - "+t.event.slidePosition,country:n.country})},trackDisplayHeroCategory:function(t){e.push({event:a,category:gr,action:"displayHeroCategory",country:n.country,label:t.event.label})},trackActionHeroCategory:function(t){e.push({event:a,category:gr,action:"actionHeroCategory",country:n.country,label:t.event.label,componentSize:t.event.componentSize,urlDestination:t.event.urlDestination})},trackDisplayEditorialCardInGrid:function(t){e.push({event:a,category:gr,action:"displayEditorialCardInGrid",country:n.country,label:t.event.label,componentSize:t.event.componentSize,indexPosition:t.event.indexPosition})},trackActionEditorialCardInGrid:function(t){e.push({event:a,category:gr,action:"actionEditorialCardInGrid",country:n.country,label:t.event.label,componentSize:t.event.componentSize,indexPosition:t.event.indexPosition,urlDestination:t.event.urlDestination})},trackDisplayCrossCategoryBar:function(t){e.push({event:a,category:gr,action:"displayCrossCategoryBar",country:n.country,label:t.event.label})},trackActionCrossCategoryBar:function(t){e.push({event:a,category:gr,action:"actionCrossCategoryBar",country:n.country,label:t.event.label,urlDestination:t.event.urlDestination})},trackActionVisualFacetTile:function(t){e.push({event:a,category:"visual facet tiles",action:"actionTile",label:t.event.label,country:n.country,genericEventData:{urlDestination:t.event.urlDestination}})},trackSwipeVisualFacetTiles:function(t){e.push({event:a,category:"visual facet tiles",action:"swipeVisualFacetTiles",label:t.event.label,country:n.country})},trackDisplayVisualFacetTile:function(t){e.push({event:a,category:"visual facet tiles",action:"displayTile",label:t.event.label,country:n.country,genericEventData:{indexPosition:t.event.indexPosition}})},trackDisplayVisualFacetTiles:function(t){e.push({event:a,category:"visual facet tiles",action:"displayVisualFacetTiles",label:t.event.label,country:n.country})}}}(e,n);return new Map([["productGrid.clickOnLoadMore",t.trackClickOnLoadMore],["productGrid.addToWishList",t.trackAddToWishlist],["productGrid.clickOnPromoComponent",t.trackClickOnPromoComponent],["productGrid.clickOnAlternativeView",t.trackClickOnAlternativeView],["productGrid.displayHeroCategory",t.trackDisplayHeroCategory],["productGrid.actionHeroCategory",t.trackActionHeroCategory],["productGrid.displayEditorialCardInGrid",t.trackDisplayEditorialCardInGrid],["productGrid.actionEditorialCardInGrid",t.trackActionEditorialCardInGrid],["productGrid.displayCrossCategoryBar",t.trackDisplayCrossCategoryBar],["productGrid.actionCrossCategoryBar",t.trackActionCrossCategoryBar],["visualFacetTiles.actionTile",t.trackActionVisualFacetTile],["visualFacetTiles.swipeVisualFacetTiles",t.trackSwipeVisualFacetTiles],["visualFacetTiles.displayTile",t.trackDisplayVisualFacetTile],["visualFacetTiles.displayVisualFacetTiles",t.trackDisplayVisualFacetTiles]])}(p,f).entries()),Array.from(function(e,n){return new Map([["storiesmodulecomponent.show",function(t){return function(e,n,t){var r=o({},kr(n),{action:"displayStory",country:t.country});e.push(r)}(e,t,n)}],["storiesmodulecomponent.title.tap",function(t){return function(e,n,t){var r=o({},br(n),{action:"actionTitleStories",country:t.country});e.push(r)}(e,t,n)}],["storiesmodulecomponent.cta.tap",function(t){return function(e,n,t){var r=o({},br(n),{action:"actionMainCtaStories",country:t.country});e.push(r)}(e,t,n)}],["storiesmodulecomponent.story.tap",function(t){return function(e,n,t){var r=o({},function(e){var n;return o({},br(e),{actionElement:null==e||null==(n=e.event)?void 0:n.actionElement})}(n),{action:"actionStory",country:t.country});e.push(r)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){var t=function(e,n){function t(t){e.push({event:a,category:wr,action:"filter by "+t.event.filterType+" "+t.event.categoryName,label:t.event.clickedItem,indexFilter:t.event.indexFilter,country:n.country})}return{trackClickOnSortBy:function(t){e.push({event:a,category:wr,action:"sort by "+t.event.categoryName,label:t.event.clickedItem,country:n.country})},trackClickOnFilterType:t,trackClickOnCategory:function(e){var n=o({},e.event,{filterType:"category"});t({name:e.name,event:n})},trackClickOnFilters:function(t){s(e,u(wr,"filter by "+t.event.filterType+" "+t.event.categoryName,t.event.clickedFilters),n)},trackClickOnSortBySearchResultPage:function(t){s(e,u(wr,"sort by "+Sr,t.event.clickedSortBy),n)},trackClickOnFilterBySearchResultPage:function(t){s(e,u(wr,"filter by "+Sr,t.event.clickedItem),n)}}}(e,n);return new Map([["filter.clickOnSortBy",t.trackClickOnSortBy],["filter.clickOnFilterByLine",t.trackClickOnFilterType],["filter.clickOnFilterByCategory",t.trackClickOnCategory],["filter.clickOnFilterByFilters",t.trackClickOnFilters],["filter.clickOnSortBySearchResultPage",t.trackClickOnSortBySearchResultPage],["filter.clickOnFilterBySearchResultPage",t.trackClickOnFilterBySearchResultPage]])}(p,f).entries()),Array.from(function(e,n){return new Map([["mediacomponent.show",function(t){return function(e,n,t){var r=o({},Er(n),{action:"displayMedia",country:t.country});e.push(r)}(e,t,n)}],["mediacomponent.tap",function(t){return function(e,n,t){var r=o({},function(e){var n;return o({},Er(e),{actionElement:null==e||null==(n=e.event)?void 0:n.actionElement})}(n),{action:"actionMedia",country:t.country});e.push(r)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["mosaiccomponent.show",function(t){return function(e,n,t){var r=o({},Ar(n),{action:"displayMosaicSingle",country:t.country});e.push(r)}(e,t,n)}],["mosaiccomponent.tap",function(t){return function(e,n,t){var r=o({},Ar(n),{action:"actionMosaicSingle",country:t.country});e.push(r)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map([["herofullbleedcomponent.show",function(t){return function(e,n,t){var r,i,a=o({},Ut(n),{action:"displayHeroFullBleed",country:t.country,cta2UrlDestination:null==n||null==(r=n.event)?void 0:r.cta2UrlDestination,cta2Label:null==n||null==(i=n.event)?void 0:i.cta2Label});e.push(a)}(e,t,n)}],["herofullbleedcomponent.tap",function(t){return function(e,n,t){var r,i=o({},Ut(n),{action:"actionHeroFullBleed",actionElement:null==n||null==(r=n.event)?void 0:r.actionElement,country:t.country});e.push(i)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){var t=function(e,n){return{trackDrawerProductGrid:function(t){var r=o({event:a,category:t.event.category,action:t.event.action,label:t.event.label,outOfStock:t.event.outOfStock,country:n.country},t.event.actionElement?{actionElement:t.event.actionElement}:{});e.push(r)},trackClickDrawerCTA:function(t){s(e,u(t.event.category,t.event.action,t.event.label),n)}}}(e,n);return new Map([["shopTheLookDrawer.productGrid",t.trackDrawerProductGrid],["shopTheLookDrawer.clickCTA",t.trackClickDrawerCTA]])}(p,f).entries()),Array.from(function(e,n){var t=function(e,n){function t(t){Zt(t,n.country,e)}return{trackCrossSellRenderOrNot:function(e){return t(e)},trackCrossSellIntersectionViewport:function(e){return t(e)}}}(e,n);return new Map([["crossSell.renderOrNot",t.trackCrossSellRenderOrNot],["crossSell.intersectionViewport",t.trackCrossSellIntersectionViewport]])}(p,f).entries()),Array.from(function(e,n){var t=function(e,n){function t(t){var r=o({},l(t,n.country),void 0!==t.event.recoSourceHit&&{recoSourceHit:t.event.recoSourceHit},void 0!==t.event.crossSellStrategy&&{crossSellStrategy:t.event.crossSellStrategy});e.push(r)}return{trackCrossSellDisplay:function(e){return t(e)},trackCrossSellScroll:function(e){return t(e)}}}(e,n);return new Map([["crossSell.display",t.trackCrossSellDisplay],["crossSell.scrollRecommendations",t.trackCrossSellScroll]])}(p,f).entries()),Array.from(function(e,n){var t=function(e,n){return function(t){e.push({event:a,category:t.event.category,action:t.event.action,label:t.event.label,outOfStock:t.event.outOfStock,country:n.country})}}(e,n);return new Map([["completeTheLook.lookProduct",t]])}(p,f).entries()),Array.from(function(e,n){var t=function(e,n){return{trackClickCarouselCTA:function(t){var r,o={event:a,category:t.event.category,action:t.event.action,label:t.event.label,country:n.country,urlDestination:null==t||null==(r=t.event)?void 0:r.urlDestination};e.push(o)}}}(e,n);return new Map([["shopTheLookCarousel.clickCTA",t.trackClickCarouselCTA]])}(p,f).entries()),Array.from(function(e,n){return new Map([["bentobox.cta.tap",function(t){return function(e,n,t){var r,o={event:a,category:n.event.category,action:n.event.action,label:n.event.label,country:t.country,urlDestination:null==n||null==(r=n.event)?void 0:r.urlDestination};e.push(o)}(e,t,n)}],["bentobox.editorialcard.tap",function(t){return function(e,n,t){var r,o,i={event:a,category:n.event.category,action:n.event.action,label:n.event.label,country:t.country,urlDestination:null==n||null==(r=n.event)?void 0:r.urlDestination,actionElement:null==n||null==(o=n.event)?void 0:o.actionElement};e.push(i)}(e,t,n)}]])}(p,f).entries()),Array.from(function(e,n){return new Map(Dr.map(function(t){return[t,function(t){return function(e,n,t){var r,c,u,l=n.event;l||i("Error: event not found");var s=o({event:a,category:null!=(r=l.category)?r:i("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:i("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:"",country:t.country},l.vtoOpeningMode&&{vtoOpeningMode:l.vtoOpeningMode});e.push(s)}(e,t,n)}]}))}(p,f).entries())))}var Mr=function(e){function n(n){try{var t=Rr(e).get(n.name);t&&t(n)}catch(e){var r=n.name+":"+(e instanceof Error?e.message:"string"==typeof e?e:e.message);ut.logError("sendEvent error",{lib_version:lt,payload:n,error_message:r})}window.analyticsSdkReady=!0,document.dispatchEvent(new Event("analyticsSdkReady"))}return window.siteCurrency=Bt(e),{sendEvent:n,asyncSendEvent:function(e){return new Promise(function(t){setTimeout(function(){n(e),t()},0)})}}},Br=Mr(n());e.LIB_VERSION=lt,e.initTrackers=Rr,e.initTracking=Mr,e.trackers=Ir,e.tracking=Br});
