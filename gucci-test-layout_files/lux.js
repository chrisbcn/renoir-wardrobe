var LUX=LUX||{};LUX.customerid="111210459";LUX["samplerate"]=40;LUX["pagegroups"]={"GIFT PAGES 2023":["*\/gifts-for-men-c-gifts-for-him","*\/gifts-for-women-c-gifts-for-her"],"Category Page":["\/*\/ca\/*"],"Search":["\/*\/*\/st\/newsearchpage*"],"Login Page":["*\/access\/view"]};LUX["serverTiming"]={"orchestrator":["s"]};!function(){"use strict";var t=Math.max,e=Math.floor,n=Math.round;function r(e){return t(0,e)}function i(t,e){return t-e}function o(){return Date.now?Date.now():+new Date}var a,s=o(),u=window.performance||{},c=u.timing||{activationStart:0,navigationStart:(null===(a=window.LUX)||void 0===a?void 0:a.ns)||s};function l(){return u.navigation&&void 0!==u.navigation.type?u.navigation.type:""}function f(){var t=d("navigation");if(t.length){var n=t[0],r={navigationStart:0,activationStart:0};for(var i in n)r[i]=n[i];return r}var o=l(),a={navigationStart:0,activationStart:0,startTime:0,type:2==o?"back_forward":1===o?"reload":"navigate"};for(var i in c)"number"==typeof c[i]&&"navigationStart"!==i&&(a[i]=e(c[i]-c.navigationStart));return a}function d(t){if("function"==typeof u.getEntriesByType){var e=u.getEntriesByType(t);if(e&&e.length)return e}return[]}function v(t){if("function"==typeof u.getEntriesByName){var e=u.getEntriesByName(t);if(e&&e.length)return e}return[]}function g(){return!document.visibilityState||"visible"===document.visibilityState}function m(t){!function(t){document.prerendering?document.addEventListener("prerenderingchange",t,!0):t()}(function(){if(g())t();else{var e=function(){g()&&(t(),removeEventListener("visibilitychange",e))};addEventListener("visibilitychange",e,!0)}})}function p(){return document.prerendering||f().activationStart>0}var h={},y={};function T(t,e){h[t]||(h[t]=[]),h[t].push(e),void 0!==y[t]&&e(y[t])}function E(t,e){y[t]=e,h[t]&&h[t].forEach(function(t){return t(e)})}function S(t,e){return t|e}function b(t,e,n){void 0===n&&(n=!1),addEventListener?addEventListener(t,e,n):window.attachEvent&&window.attachEvent("on"+t,e)}function w(t,e,n){void 0===n&&(n=!1),removeEventListener?removeEventListener(t,e,n):window.detachEvent&&window.detachEvent("on"+t,e)}var L,U="LUX_start",D="LUX_end";function P(){return L}function N(){var e;return t(P()||0,f().activationStart,(null===(e=v(U).pop())||void 0===e?void 0:e.startTime)||0)}function k(t){return r(e(t-N()))}function B(){return u.now?e(u.now()):o()-c.navigationStart}function I(){var t=B(),n=v(U).pop();return n?e(t-n.startTime):t}function x(t,e,n){for(;t.length<e;)t=n+t;return t}var F="4.3.3";function C(t){void 0===t&&(t=F);var e=t.split(".");return parseFloat(e[0]+"."+x(e[1],2,"0")+x(e[2],2,"0"))}var M="sendBeacon"in navigator?navigator.sendBeacon.bind(navigator):function(t,e){var n=new XMLHttpRequest;return n.open("POST",t,!0),n.setRequestHeader("content-type","application/json"),n.send(String(e)),!0};function j(t){return P()||p()?t>=0:t>0}function O(t,e,n){for(var r=t.slice(0,e.maxBeaconUTEntries),i=t.slice(e.maxBeaconUTEntries);(n+"&UT="+r.join(",")).length>e.maxBeaconUrlLength&&r.length>1;)i.unshift(r.pop());return[r,i]}var R,A=function(){function t(t){var e=this;this.isRecording=!0,this.isSent=!1,this.sendRetries=0,this.maxMeasureTimeout=0,this.flags=0,this.metricCollectors={},this.onBeforeSendCbs=[],this.startTime=t.startTime||N(),this.config=t.config,this.logger=t.logger,this.customerId=t.customerId,this.sessionId=t.sessionId,this.pageId=t.pageId,this.maxMeasureTimeout=window.setTimeout(function(){e.logger.logEvent(82),e.stopRecording(),e.send()},this.config.maxMeasureTime-I()),b("securitypolicyviolation",function(t){if("report"!==t.disposition&&t.blockedURI===e.config.beaconUrlV2&&"URL"in self){if(!e.config.beaconUrlFallback){var n=new URL(e.config.beaconUrl).origin,r=new URL(e.config.beaconUrlV2).pathname;e.config.beaconUrlFallback=n+r}e.config.beaconUrlV2=e.config.beaconUrlFallback,e.logger.logEvent(90,[e.config.beaconUrlV2]),e.addFlag(4096),e.isSent=!1,e.sendRetries<1&&(e.sendRetries++,e.send())}}),this.logger.logEvent(80)}return t.prototype.isBeingSampled=function(){return parseInt(String(this.sessionId).slice(-2))<this.config.samplerate},t.prototype.stopRecording=function(){this.isRecording=!1,this.logger.logEvent(86)},t.prototype.addCollector=function(t,e){this.metricCollectors[t]=e},t.prototype.addFlag=function(t){this.flags=S(this.flags,t)},t.prototype.beaconUrl=function(){return this.config.beaconUrlV2},t.prototype.onBeforeSend=function(t){this.onBeforeSendCbs.push(t)},t.prototype.send=function(){if(!this.isSent){this.logger.logEvent(81);for(var t=0,e=this.onBeforeSendCbs;t<e.length;t++){(0,e[t])()}if(this.isBeingSampled()){var n=o(),r={};for(var i in this.metricCollectors){var a=this.metricCollectors[i](this.config);this.logger.logEvent(91,[i,!!a]),a&&(r[i]=a)}if(Object.keys(r).length||this.config.allowEmptyPostBeacon){clearTimeout(this.maxMeasureTimeout);var s=this.beaconUrl(),u=Object.assign({customerId:this.customerId,flags:this.flags,measureDuration:I(),collectionDuration:o()-n,pageId:this.pageId,scriptVersion:F,snippetVersion:this.config.snippetVersion,sessionId:this.sessionId,startTime:this.startTime},r);try{M(s,JSON.stringify(u))&&(this.isSent=!0,this.logger.logEvent(83,[s,u]),E("beacon",u))}catch(t){}this.isSent||this.logger.logEvent(89,[s,u])}else this.logger.logEvent(85)}}},t}();function H(t){"complete"===document.readyState?t():b("load",function(){setTimeout(t,200)})}!function(t){t.CLS="cls",t.INP="inp",t.LCP="lcp",t.LoAF="loaf",t.NavigationTiming="navigationTiming"}(R||(R={}));var _="https://lux.speedcurve.com";function V(t,e,n){return void 0!==t[e]?t[e]:n}var X="lux_uid",W={},q={};function J(t,e){var n=typeof e,r="undefined"===n||null===e;r||W[t]===e||(q[t]=e),"string"!==n&&"number"!==n&&"boolean"!==n||(W[t]=e),r&&delete W[t]}function z(){return q}function $(t){var e=[];for(var n in t){var r=""+t[n];n=n.replace(/,/g,"").replace(/\|/g,""),r=r.replace(/,/g,"").replace(/\|/g,""),e.push(n+"|"+r)}return encodeURIComponent(e.join(","))}function G(t){var e;if(t.hasAttribute("data-sctrack")){var n=null===(e=t.getAttribute("data-sctrack"))||void 0===e?void 0:e.trim();if(n)return n}return function(t){if(t.parentNode&&t.parentNode.tagName)return!0;return!1}(t)?G(t.parentNode):null}var Y=100;function K(t,e){return void 0===e&&(e=""),function(t,e){void 0===e&&(e="");try{if(e&&(9===t.nodeType||e.length>Y||!t.parentNode))return e;var n=t,r=G(n);if(r)return r;if(n.id)return"#"+n.id+(e?">"+e:"");if(n){for(var i=1===n.nodeType?n.nodeName.toLowerCase():n.nodeName.toUpperCase(),o=n.className?"."+n.className.replace(/\s+/g,"."):"";(i+o).length>Y;)o=o.split(".").slice(0,-1).join(".");var a=i+o+(e?">"+e:"");if(n.parentNode){var s=K(n.parentNode,a);if(s.length<Y)return s}return a}}catch(t){}return e}(t,e).slice(0,Y)}var Q=["utm_source","utm_campaign","utm_medium","utm_term","utm_content"];var Z,tt=function(){function t(){this.events=[]}return t.prototype.logEvent=function(t,e){void 0===e&&(e=[]),this.events.push([o(),t,e])},t.prototype.getEvents=function(){return this.events},t}(),et=0,nt=[],rt=[],it=0;function ot(t){if("LayoutShift"in self)return{value:it,startTime:nt[0]?k(nt[0].startTime):null,largestEntry:Z?{value:Z.value,startTime:k(Z.startTime)}:null,sources:rt.length?rt.slice(0,t.maxAttributionEntries):null}}var at=function(){return at=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},at.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var st=[];function ut(t){var n=[],i=0,o=0,a=0,s=0;return st.forEach(function(t){var u=t.startTime,c=t.blockingDuration,l=t.duration,f=t.renderStart,d=t.styleAndLayoutStart;i+=l,o+=c,a+=d?r(u+l-d):0,s+=f?f-u:l,n.push({startTime:e(u),duration:e(l),renderStart:e(f),styleAndLayoutStart:e(d),blockingDuration:e(c)})}),{totalBlockingDuration:e(o),totalDuration:e(i),totalEntries:st.length,totalStyleAndLayoutDuration:e(a),totalWorkDuration:e(s),scripts:ct(st.flatMap(function(t){return t.scripts}),t),entries:n.sort(function(t,e){return e.duration-t.duration}).slice(0,t.maxAttributionEntries).sort(function(t,e){return t.startTime-e.startTime})}}function ct(n,r){var i={};return n.forEach(function(n){var r=n.sourceURL;i[r]||(i[r]={sourceUrl:n.sourceURL,sourceFunctionName:"",timings:[],totalEntries:0,totalDuration:0,totalBlockingDuration:0,totalPauseDuration:0,totalForcedStyleAndLayoutDuration:0,invoker:"",inpPhase:n.inpPhase}),i[r].totalEntries++,i[r].totalDuration+=n.duration,i[r].totalBlockingDuration+=t(0,n.duration-50),i[r].totalPauseDuration+=n.pauseDuration,i[r].totalForcedStyleAndLayoutDuration+=n.forcedStyleAndLayoutDuration,i[r].timings.push([e(n.startTime),e(n.duration)])}),Object.values(i).map(function(t){return at(at({},t),{totalDuration:e(t.totalDuration),totalPauseDuration:e(t.totalPauseDuration),totalForcedStyleAndLayoutDuration:e(t.totalForcedStyleAndLayoutDuration)})}).sort(function(t,e){return e.totalDuration-t.totalDuration}).slice(0,r.maxAttributionEntries)}var lt;!function(t){t.InputDelay="ID",t.ProcessingTime="PT",t.PresentationDelay="PD"}(lt||(lt={}));var ft,dt=[],vt={},gt=0;function mt(t){if(t.interactionId||"first-input"===t.entryType&&(v=t,!dt.some(function(t){return v.startTime===t.startTime&&v.duration===t.duration}))){var e=t.duration,n=t.startTime,r=t.interactionId,i=t.name,o=t.processingStart,a=t.processingEnd,s=t.target;if(e<0)return;var u=a-o,c=vt[r],l=s?K(s):null;if(c){var f=e>c.duration,d=e===c.duration&&u>c.processingTime;(f||d)&&(c.duration=e,c.name=i,c.processingEnd=a,c.processingStart=o,c.processingTime=u,c.selector=l,c.startTime=n,c.target=s)}else gt++,vt[r]={duration:e,interactionId:r,name:i,processingEnd:a,processingStart:o,processingTime:u,selector:l,startTime:n,target:s},dt.push(vt[r]);dt.sort(function(t,e){return e.duration-t.duration}),dt.splice(10).forEach(function(t){delete vt[t.interactionId]})}var v}function pt(){var t=Math.min(dt.length-1,Math.floor(function(){if("interactionCount"in u)return u.interactionCount;return gt}()/50));return dt[t]}function ht(n){var i,o=pt();if(o){var a=o.duration,s=o.startTime,u=o.processingStart,c=st.flatMap(function(t){return t.scripts}).filter(function(t){return t.startTime+t.duration>=s&&t.startTime<=s+a}).map(function(e){var n=JSON.parse(JSON.stringify(e));return n.duration=n.startTime+n.duration-t(s,n.startTime),n.inpPhase=function(t,e){var n=e.processingStart,r=e.processingTime,i=e.startTime,o=n-i;if(t.startTime<i+o)return lt.InputDelay;if(t.startTime>=i+o+r)return lt.PresentationDelay;return lt.ProcessingTime}(n,o),n}),l=ct(c,n);return{value:o.duration,startTime:k(s),duration:o.duration,subParts:{inputDelay:r(e(u-s)),processingStart:k(u),processingEnd:k(o.processingEnd),processingTime:r(e(o.processingTime)),presentationDelay:r(e(s+o.duration-o.processingEnd))},attribution:{eventType:o.name,elementSelector:o.selector||null,elementType:(null===(i=o.target)||void 0===i?void 0:i.nodeName)||null,loafScripts:l}}}}function yt(){if(ft){var n=null;if(ft.url){var i=d("resource").find(function(t){return t.name===ft.url});if(i){var o=f(),a=o.responseStart||c.responseStart,s=o.activationStart,u=t(0,a-s),l=i.startTime,v=(i.requestStart||l)-s,g=t(v,i.responseEnd-s),m=t(g,l-s);n={resourceLoadDelay:r(e(v-u)),resourceLoadTime:r(e(g-v)),elementRenderDelay:r(e(m-g))}}}var p=ft.startTime;if(j(p))return{value:k(p),subParts:n,attribution:ft.element?{elementSelector:K(ft.element),elementType:ft.element.nodeName}:null}}}var Tt=[];function Et(t,e,n){if("function"==typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(t){t.getEntries().forEach(function(t){return e(t)})});return r.observe(Object.assign({type:t,buffered:!0},{options:n})),r}}function St(t){return Tt.filter(function(e){return e.entryType===t})}function bt(t,e,n,r){var i=[];for(var o in t){var a=t[o];if(Array.isArray(a))for(var s in a){var u=a[s];if("string"==typeof u&&wt(u,e,n)){if(r)return o;i.push(o)}}}if(!r)return i}function wt(t,e,n){var r=function(t){return new RegExp("^"+(e=t,e.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&")).replace(/\*/g,".*")+"$","i");var e}(t);return"/"===t.charAt(0)?r.test(n):r.test(e+n)}var Lt=window.LUX||{},Ut=s;Lt=function(){var o,a,v,h=new tt,y=(a=V(o=Lt,"spaMode",!1),v=!a&&V(o,"auto",!0),{allowEmptyPostBeacon:V(o,"allowEmptyPostBeacon",!1),auto:v,beaconUrl:V(o,"beaconUrl",_+"/lux/"),beaconUrlFallback:V(o,"beaconUrlFallback"),beaconUrlV2:V(o,"beaconUrlV2","https://beacon.speedcurve.com/store"),conversions:V(o,"conversions"),cookieDomain:V(o,"cookieDomain"),customerid:V(o,"customerid"),errorBeaconUrl:V(o,"errorBeaconUrl",_+"/error/"),interactionBeaconDelay:V(o,"interactionBeaconDelay",200),jspagelabel:V(o,"jspagelabel"),label:V(o,"label"),maxAttributionEntries:V(o,"maxAttributionEntries",25),maxBeaconUrlLength:V(o,"maxBeaconUrlLength",8190),maxBeaconUTEntries:V(o,"maxBeaconUTEntries",20),maxErrors:V(o,"maxErrors",5),maxMeasureTime:V(o,"maxMeasureTime",6e4),measureUntil:V(o,"measureUntil",a?"pagehidden":"onload"),minMeasureTime:V(o,"minMeasureTime",0),newBeaconOnPageShow:V(o,"newBeaconOnPageShow",!1),pagegroups:V(o,"pagegroups"),samplerate:V(o,"samplerate",100),sendBeaconOnPageHidden:V(o,"sendBeaconOnPageHidden",a||v),serverTiming:V(o,"serverTiming"),spaMode:a,trackErrors:V(o,"trackErrors",!0),trackHiddenPages:V(o,"trackHiddenPages",!1)});h.logEvent(1,[F,JSON.stringify(y)]);var M=window.document,G=window.addEventListener,Y=window.removeEventListener,at=window.setTimeout,ct=window.clearTimeout,lt=window.encodeURIComponent,wt=M.currentScript||{},Dt=0;function Pt(t){y.trackErrors&&(Dt++,t&&void 0!==t.filename&&void 0!==t.message&&(t.filename.indexOf("/lux.js?")>-1||t.message.indexOf("LUX")>-1||Dt<=y.maxErrors&&ue())&&((new Image).src=y.errorBeaconUrl+"?v="+C()+"&id="+pe()+"&fn="+lt(t.filename)+"&ln="+t.lineno+"&cn="+t.colno+"&msg="+lt(t.message)+"&l="+lt(Re())+(ye()?"&ct="+ye():"")+"&HN="+lt(M.location.hostname)+"&PN="+lt(M.location.pathname)))}G("error",Pt);var Nt,kt,Bt=0,It=[],xt=[],Ft={},Ct=0,Mt=0,jt=0,Ot=1,Rt=Me(),At=je(Rt),Ht=Lt.customerid,_t=[],Vt=function(t){h.logEvent(42,[t])},Xt=function(t){!function(t){Tt.push(t)}(t),Vt(t)};try{Et("longtask",Xt),Et("element",Xt),Et("paint",Xt),Et("largest-contentful-paint",function(t){Xt(t),function(t){(!ft||t.startTime>ft.startTime)&&(ft=t)}(t)})&&_t.push([R.LCP,yt]),Et("layout-shift",function(e){!function(e){if(!e.hadRecentInput){var n=nt[0],r=nt[nt.length-1],i=e.sources?e.sources.filter(function(t){return t.node}).map(function(t){return{value:e.value,startTime:k(e.startTime),elementSelector:K(t.node),elementType:t.node.nodeName}}):[];nt.length&&(e.startTime-r.startTime>=1e3||e.startTime-n.startTime>=5e3)?(et=e.value,nt=[e],rt=i,Z=e):(et+=e.value,nt.push(e),rt=rt.concat(i),(!Z||e.value>Z.value)&&(Z=e)),it=t(it,et)}}(e),Vt(e)})&&_t.push([R.CLS,ot]),Et("long-animation-frame",function(t){!function(t){st.push(t)}(t),Vt(t)})&&_t.push([R.LoAF,ut]);var Wt=function(t){mt(t),Vt(t)};Et("first-input",function(t){Vt(t);var n=t.processingStart-t.startTime;(!zt||zt<n)&&(zt=e(n)),Wt(t)}),Et("event",function(t){Wt(t),Vt({interactionId:t.interactionId,name:t.name,entryType:t.entryType,startTime:t.startTime,duration:t.duration,processingStart:t.processingStart,processingEnd:t.processingEnd})},{durationThreshold:0})&&_t.push([R.INP,ht])}catch(t){h.logEvent(51,[t])}var qt=function(){var t=new A({config:y,logger:h,customerId:pe(),sessionId:At,pageId:Rt});return _t.forEach(function(e){var n=e[0],r=e[1];t.addCollector(n,r)}),t},Jt=qt();ue()?h.logEvent(21,[y.samplerate]):h.logEvent(22,[y.samplerate]);var zt,$t=Lt.ns?Lt.ns-c.navigationStart:0;u.timing||(h.logEvent(71),Bt=S(Bt,2),Jt.addFlag(2)),h.logEvent(41,[c.navigationStart]);var Gt,Yt,Kt=["click","mousedown","keydown","touchstart","pointerdown"],Qt={passive:!0,capture:!0};function Zt(t){zt||(zt=e(t),Kt.forEach(function(t){Y(t,te,Qt)}))}function te(t){var e=!1;try{e=t.cancelable}catch(t){return void h.logEvent(52)}if(e){var n=B(),r=t.timeStamp;if(r>152e7&&(n=Number(new Date)),r>n)return;var i=n-r;"pointerdown"===t.type?function(t){function e(){Zt(t),r()}function n(){r()}function r(){Y("pointerup",e,Qt),Y("pointercancel",n,Qt)}G("pointerup",e,Qt),G("pointercancel",n,Qt)}(i):Zt(i)}}function ee(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(h.logEvent(4,n),u.mark)return u.mark.apply(u,n);var i={entryType:"mark",duration:0,name:n[0],detail:(null===(t=n[1])||void 0===t?void 0:t.detail)||null,startTime:(null===(e=n[1])||void 0===e?void 0:e.startTime)||I()};return It.push(i),Bt=S(Bt,4),Jt.addFlag(4),i}function ne(t){return function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}return}(t,re())}function re(){var t=d("mark");return t.length?t:It}function ie(){var n,r={},i=ne(U),o=N();re().forEach(function(n){var i=n.name;if(i!==U&&i!==D){var a=e(n.startTime-o);a<0||(void 0===r[i]?r[i]={startTime:a}:r[i].startTime=t(a,r[i].startTime))}}),(n=d("measure"),n.length?n:xt).forEach(function(t){if(!(i&&t.startTime<i.startTime)){var n=t.name,a=e(t.startTime-o),s=e(t.duration);(void 0===r[n]||a>r[n].startTime)&&(r[n]={startTime:a,duration:s})}});var a=[];for(var s in r){var u=r[s],c=u.startTime,l=u.duration,f=[s,c];void 0!==l&&f.push(l),a.push(f.join("|"))}return a}function oe(){if(!("PerformanceLongTaskTiming"in self))return"";var t="",r={},o={},a=St("longtask");if(a.length){var s=N();a.forEach(function(t){var n=e(t.duration);if(t.startTime<s&&(n-=s-t.startTime),n>0){h.logEvent(43,[t]);var i=t.attribution[0].name;r[i]||(r[i]=0,o[i]=""),r[i]+=n,o[i]+=","+e(t.startTime)+"|"+n}})}var u=void 0!==r.script?"script":"unknown";void 0===r[u]&&(r[u]=0,o[u]="");var c=function(t){for(var r=0,o=ve(),a=o||0,s=void 0===o,u=[],c=t.split(","),l=0;l<c.length;l++){var f=c[l].split("|");if(2===f.length){var d=parseInt(f[0]),v=parseInt(f[1]);if(u.push(v),r=v>r?v:r,!s&&d>a)if(d-a>5e3)s=!0;else{var g=k(d+v);j(g)&&(a=g)}}}var m=u.length,p=function(t){if(0===t.length)return 0;var r=e(t.length/2);return t.sort(i),t.length%2?t[r]:n((t[r-1]+t[r])/2)}(u);return{count:m,median:p,max:r,fci:a}}(o[u]),l=",n|"+c.count+",d|"+c.median+",x|"+c.max+(void 0===c.fci?"":",i|"+c.fci);return t+="s|"+r[u]+l+o[u]}function ae(){var t=[];for(var e in Ft)t.push(e+"|"+lt(Ft[e]));return t.join(",")}function se(t,e){h.logEvent(6,[t,e]),"string"==typeof t&&J(t,e),Ct&&(Nt&&ct(Nt),Nt=at(Ne,100))}function ue(){if(void 0===At||void 0===y.samplerate)return!1;var t=(""+At).substr(-2);return parseInt(t)<y.samplerate}function ce(t,e){void 0===e&&(e=!0),t?ee(U,{startTime:t}):ee(U),Ft={},Ce(),Fe(),Mt=0,Ct=0,jt=0,Ot=0,Rt=Me(),At=je(Rt),ft=void 0,et=0,nt=[],it=0,Z=void 0,gt=0,dt=[],vt={},st=[],Dt=0,zt=void 0,Jt=qt(),e&&(Bt=S(Bt=0,1),Jt.addFlag(1)),be()}function le(){var t=Te();if(!t)return function(){for(var t=M.getElementsByTagName("script"),e=0,n=0,r=t.length;n<r;n++){var i=t[n];!i.src||i.async||i.defer||e++}return e}();for(var e=M.getElementsByTagName("script"),n=0,r=0,i=e.length;r<i;r++){var o=e[r];o.src&&!o.async&&!o.defer&&4&o.compareDocumentPosition(t)&&n++}return n}function fe(t){for(var e=M.getElementsByTagName(t),n=0,r=0,i=e.length;r<i;r++){var o=e[r];try{n+=o.innerHTML.length}catch(o){return h.logEvent(53),-1}}return n}function de(){var t="",n=c.navigationStart,o=ne(U),a=ne(D);if(o&&a&&!P()){var s=e(o.startTime);t=(n+=s)+"as0fs0"+((L=e(a.startTime)-s)>0?"ls"+L+"le"+L:"")}else if(u.timing){var l=f(),v=function(){if("PerformancePaintTiming"in self){var t=d("paint");if(t.length)for(var n=t.map(function(t){return t.startTime}).sort(i),r=0;r<n.length;r++){var o=k(n[r]);if(j(o))return o}}if(u.timing&&c.msFirstPaint)return e(c.msFirstPaint-c.navigationStart);return void h.logEvent(72)}(),g=ve(),m=function(){var t=St("largest-contentful-paint");if(t.length){var e=t[t.length-1],n=k(e.startTime);if(j(n))return h.logEvent(43,[e]),n}return}(),p=function(t,e,n){if("number"==typeof l[t]){var r=l[t];if(j(r)||!n)return e+k(r)}return""},T=p("loadEventStart","ls",!0),E=y.spaMode&&a?"le"+k(a.startTime):p("loadEventEnd","le",!0);if(P()&&o&&a){var S=e(a.startTime-o.startTime);T="ls"+S,E="le"+S}var b=f().redirectCount>0||c.redirectEnd>0,w="https:"===M.location.protocol;t=[n,"as"+r(l.activationStart),b&&!P()?p("redirectStart","rs"):"",b&&!P()?p("redirectEnd","re"):"",p("fetchStart","fs"),p("domainLookupStart","ds"),p("domainLookupEnd","de"),p("connectStart","cs"),w?p("secureConnectionStart","sc"):"",p("connectEnd","ce"),p("requestStart","qs"),p("responseStart","bs"),p("responseEnd","be"),p("domInteractive","oi",!0),p("domContentLoadedEventStart","os",!0),p("domContentLoadedEventEnd","oe",!0),p("domComplete","oc",!0),T,E,void 0!==v?"sr"+v:"",void 0!==g?"fc"+g:"",void 0!==m?"lc"+m:""].join("")}else if(a){var L;t=n+"fs0ls"+(L=e(a.startTime))+"le"+L}return t}function ve(){for(var t=d("paint"),e=0;e<t.length;e++){var n=t[e];if("first-contentful-paint"===n.name){var r=k(n.startTime);if(j(r))return r}}}function ge(){if("PerformanceEventTiming"in self)return pt()}function me(t){return["&INP="+t.duration,t.selector?"&INPs="+lt(t.selector):"","&INPt="+e(t.startTime),"&INPi="+r(e(t.processingStart-t.startTime)),"&INPp="+r(e(t.processingTime)),"&INPd="+r(e(t.startTime+t.duration-t.processingEnd))].join("")}function pe(){var t;if(wt.src){var e=null===(t=wt.src.match(/id=(\d+)/))||void 0===t?void 0:t.pop();e&&Ht!==e&&(Ht=e)}return Ht?String(Ht):""}function he(t){var e=0;if(t.parentNode)for(;t=t.parentNode;)e++;return e}function ye(){var t=navigator.connection,e="";return t&&t.effectiveType&&(e="slow-2g"===(e=t.effectiveType)?"Slow 2G":"2g"===e||"3g"===e||"4g"===e||"5g"===e?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)),e}function Te(t){var e;if(t||(t=M.body),t){var n=t.children;if(n)for(var r=0,i=n.length;r<i;r++){var o=n[r];Ee(o)&&(e=o)}}return e?Te(e):t}function Ee(t){var e=M.documentElement.clientHeight,n=M.documentElement.clientWidth,r=function(t){var e=0,n=0;for(;t;)try{e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent}catch(t){return[e,n]}return[e,n]}(t);return r[0]>=0&&r[1]>=0&&r[0]<n&&r[1]<e&&t.offsetWidth>0&&t.offsetHeight>0}function Se(t){h.logEvent(12,[t]),t?ee(D,{startTime:t}):ee(D)}function be(){we(),kt=at(function(){Bt=S(Bt,32),Jt.addFlag(32),Ue()},y.maxMeasureTime-I())}function we(){kt&&ct(kt)}function Le(t){var e=["v="+C(),"id="+pe(),"sid="+Rt,"uid="+At,"l="+lt(Re()),"HN="+lt(M.location.hostname),"PN="+lt(M.location.pathname)];Bt&&e.push("fl="+Bt),Lt.snippetVersion&&e.push("sv="+Lt.snippetVersion);var n=$(t);return n&&(e.push("CD="+n),q={}),y.beaconUrl+"?"+e.join("&")}function Ue(r){var i;if(void 0===r&&(r=!1),g()||y.trackHiddenPages||r){if(we(),pe()&&Rt&&ue()&&!Ct){h.logEvent(9);var o=ne(U),a=ne(D);o?y.spaMode||(!a||a.startTime<o.startTime)&&Se():a||Se();var d=function(){var t={};if(location.search&&"function"==typeof URLSearchParams)for(var e=new URLSearchParams(location.search),n=0,r=Q;n<r.length;n++){var i=r[n],o=e.get(i);o&&(t[i]=o)}return t}();for(var v in d)h.logEvent(44,[v,d[v]]),J("_"+v,d[v]);var m="",T=ge();jt||""===(m=ae())&&(T=void 0);var E,b,w,L,P=(E=[],St("element").forEach(function(t){if(t.identifier&&t.startTime){var e=k(t.startTime);j(e)&&(h.logEvent(43,[t]),E.push(t.identifier+"|"+e))}}),E.join(",")),N=oe(),B=ot(y),x=function(){var t="";if(Ot&&u.getEntriesByName&&wt.src){var n=u.getEntriesByName(wt.src);if(n&&n.length){var r=n[0],i=e(r.domainLookupEnd-r.domainLookupStart),o=e(r.connectEnd-r.connectStart),a=e(r.responseStart-r.requestStart),l=e(r.responseEnd-r.responseStart),f=i+o+a+l,d=Ut-s,v=r.encodedBodySize?r.encodedBodySize:0;t="d"+i+"t"+o+"f"+a+"c"+l+"n"+f+"e"+d+"r"+y.samplerate+("number"==typeof v?"x"+v:"")+("number"==typeof $t?"l"+$t:"")+"s"+(s-c.navigationStart)}}return t+"m"+I()}();if(g()||(Bt=S(Bt,8),Jt.addFlag(8)),p()&&(Bt=S(Bt,1024),Jt.addFlag(1024)),y.serverTiming){var F=f();if(F.serverTiming){var C=(b=y.serverTiming,w=F.serverTiming,L={},w.forEach(function(t){var e=t.name,n=t.description;if(e in b){var r=b[e],i=r[1];if("r"===r[0])L[e]=t.duration*(i||1);else if(n&&i){var o=parseFloat(n);isNaN(o)||(L[e]=o*i)}else L[e]=n||"true"}}),L);for(var R in C)se(R,C[R])}}Lt.conversions&&bt(Lt.conversions,location.hostname,location.pathname).forEach(function(t){Lt.addData(t,"true")});var A,H,_,V=Le(W),X=fe("script"),q=fe("style"),z=f().encodedBodySize||0,$=ye(),G=function(){var t=f();if("deliveryType"in t)return t.deliveryType||"(empty string)"}(),Y=(Mt?"":"&NT="+de())+"&LJS="+x+"&PS=ns"+function(){for(var t=M.getElementsByTagName("script"),e=0,n=0,r=t.length;n<r;n++)t[n].src&&e++;return e}()+"bs"+le()+(X>-1?"is"+X:"")+"ss"+function(){for(var t=M.getElementsByTagName("link"),e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.href&&"stylesheet"==i.rel&&e++}return e}()+"bc"+function(){for(var t=0,e=M.getElementsByTagName("link"),n=0,r=e.length;n<r;n++){var i=e[n];i.href&&"stylesheet"===i.rel&&0!==i.href.indexOf("data:")&&(i.onloadcssdefined||"print"===i.media||"style"===i.as||"function"==typeof i.onload&&"all"===i.media||t++)}return t}()+(q>-1?"ic"+q:"")+"ia"+function(){var t=M.getElementsByTagName("img"),e=[];if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Ee(i)&&e.push(i)}return e}().length+"it"+M.getElementsByTagName("img").length+"dd"+function(){for(var t=M.getElementsByTagName("*"),e=t.length,r=0;e--;)r+=he(t[e]);return n(r/t.length)}()+"nd"+M.getElementsByTagName("*").length+"vh"+M.documentElement.clientHeight+"vw"+M.documentElement.clientWidth+"dh"+(H=(A=M).body,_=A.documentElement,t(H?H.scrollHeight:0,H?H.offsetHeight:0,_?_.clientHeight:0,_?_.scrollHeight:0,_?_.offsetHeight:0)+"dw")+function(e){var n=e.body,r=e.documentElement;return t(n?n.scrollWidth:0,n?n.offsetWidth:0,r?r.clientWidth:0,r?r.scrollWidth:0,r?r.offsetWidth:0)}(M)+(z?"ds"+z:"")+($?"ct"+$+"_":"")+(void 0!==G?"dt"+G+"_":"")+"er"+Dt+"nt"+l()+(navigator.deviceMemory?"dm"+n(navigator.deviceMemory):"")+(m?"&IX="+m:"")+(void 0!==zt?"&FID="+zt:"")+(N?"&CPU="+N:"")+(P?"&ET="+P:"")+(B?"&CLS="+B.value.toFixed(6):"")+(T?me(T):""),K=O(ie(),y,V+Y),Z=K[0],tt=K[1],et=V+Y+(Z.length>0?"&UT="+Z.join(","):"");for(h.logEvent(23,[et]),ke(et),Ct=1,Mt=1,jt=m?1:0;tt.length;){Z=(i=O(tt,y,V))[0],tt=i[1];var nt=V+"&UT="+Z.join(",");h.logEvent(24,[nt]),ke(nt)}}}else h.logEvent(13)}function De(){ct(Gt),Gt=at(Pe,y.interactionBeaconDelay)}function Pe(){if(pe()&&Rt&&ue()&&!jt&&Ct){var t=ae(),e=ge();if(t){var n=Le(z())+"&IX="+t+(void 0!==zt?"&FID="+zt:"")+(void 0!==e?me(e):"");h.logEvent(25,[n]),ke(n),jt=1}}}function Ne(){if(pe()&&Rt&&ue()&&Ct&&$(z())){var t=Le(z());h.logEvent(26,[t]),ke(t)}}function ke(t){(new Image).src=t,E("beacon",t)}function Be(){void 0===Ft.s&&(Ft.s=I())}function Ie(t){var e=t.keyCode;if(16!==e&&17!==e&&18!==e&&20!==e&&224!==e){if(void 0===Ft.k){if(Ft.k=I(),t&&t.target instanceof Element){var n=K(t.target);n&&(Ft.ki=n)}delete Ft.s,De()}Ce()}}function xe(t){if(void 0===Ft.c){Ft.c=I(),delete Ft.s;var e=void 0;try{t&&t.target instanceof Element&&(e=t.target)}catch(t){h.logEvent(54)}if(e){t.clientX&&(Ft.cx=t.clientX,Ft.cy=t.clientY);var n=K(e);n&&(Ft.ci=n)}De()}Ce()}function Fe(){b("scroll",Be),b("keydown",Ie),b("mousedown",xe)}function Ce(){w("scroll",Be),w("keydown",Ie),w("mousedown",xe)}function Me(t){var e;return void 0===t&&(t=!1),E("new_page_id",e=t?Number(new Date)+"00000":Number(new Date)+x(String(n(1e5*Math.random())),5,"0")),e}function je(t){var e=function(t){try{for(var e=M.cookie.split(";"),n=0;n<e.length;n++){var r=e[n].split("=");if(t===r[0].trim())return unescape(r[1])}}catch(t){h.logEvent(55)}return}(X);if(!e||e.length<11)e=t;else{var n=parseInt(e.substring(0,10));Number(new Date)/1e3-n>86400&&(e=t)}return Oe(e),e}function Oe(t){return function(t,e,n){try{M.cookie=t+"="+escape(e)+(n?"; max-age="+n:"")+(y.cookieDomain?"; domain="+y.cookieDomain:"")+"; path=/; SameSite=Lax"}catch(t){h.logEvent(56)}}(X,t,1800),t}function Re(){if(Lt.label)return Bt=S(Bt,128),Jt.addFlag(128),Lt.label;if(void 0!==Lt.pagegroups&&(e=bt(Lt.pagegroups,location.hostname,location.pathname,!0)))return Bt=S(Bt,512),Jt.addFlag(512),e;if(void 0!==Lt.jspagelabel){var t=Function('"use strict"; return '+Lt.jspagelabel);try{var e;if(e=t())return Bt=S(Bt,256),Jt.addFlag(256),e}catch(t){h.logEvent(57,[Lt.jspagelabel,t])}}return Bt=S(Bt,64),Jt.addFlag(64),M.title}if(Kt.forEach(function(t){G(t,te,Qt)}),y.auto){var Ae=function(){y.trackHiddenPages?Ue():m(Ue)},He=function(){var t=I(),e=y.minMeasureTime-t;e<=0?(h.logEvent(11,[t,y.minMeasureTime]),"onload"===y.measureUntil&&H(Ae)):at(He,e)};He()}y.newBeaconOnPageShow&&G("pageshow",function(t){var e;t.persisted&&(e=t.timeStamp,L=e,at(function(){Ct&&(h.logEvent(17),ce(P(),!1),Se()),Bt=S(Bt,2048),Jt.addFlag(2048)},0))}),y.sendBeaconOnPageHidden&&(Yt=function(){Bt=S(Bt,16),Jt.addFlag(16),h.logEvent(10),Ue(!0),Pe(),Jt.send()},"onpagehide"in self?b("pagehide",Yt,!0):(b("unload",Yt,!0),b("beforeunload",Yt,!0)),b("visibilitychange",function(){"hidden"===M.visibilityState&&Yt()},!0)),Fe(),be();var _e=y;function Ve(t){var e=t[0],n=t.slice(1);"function"==typeof _e[e]&&_e[e].apply(_e,n)}return _e.addData=se,_e.cmd=Ve,_e.getSessionId=function(){return At},_e.mark=ee,_e.markLoadTime=Se,_e.measure=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];h.logEvent(5,t);var n,r=t[0],i=t[1],o=t[2];if("object"==typeof i&&(i=(n=t[1]).start,o=n.end),void 0===i&&(i=ne(U)?U:"navigationStart",n?n.end&&n.duration||(t[1].start=i):t[1]=i),u.measure)return u.measure.apply(u,t);var a=f(),s="number"==typeof i?i:0,c="number"==typeof o?o:I(),l=function(t){throw new DOMException("Failed to execute 'measure' on 'Performance': The mark '"+t+"' does not exist")};if("string"==typeof i){var d=ne(i);d?s=d.startTime:"number"==typeof a[i]?s=a[i]:l(i)}if("string"==typeof o){var v=ne(o);v?c=v.startTime:"number"==typeof a[o]?c=a[o]:l(o)}var g=c-s,m=null;n&&(n.duration&&(g=n.duration),m=n.detail);var p={entryType:"measure",name:r,detail:m,startTime:s,duration:g};return xt.push(p),Bt=S(Bt,4),Jt.addFlag(4),p},_e.on=T,_e.snippetVersion=Lt.snippetVersion,_e.version=F,_e.init=function(t){h.logEvent(3),ne(D)?(y.spaMode&&(Jt.send(),Ue()),ce(t)):h.logEvent(18)},_e.startSoftNavigation=function(t){h.logEvent(14),Jt.send(),Ue(),ce(t)},_e.send=function(t){if(y.spaMode&&!t){h.logEvent(16);var e=ne(U),n=ne(D);(!n||e&&n.startTime<e.startTime)&&Se()}else h.logEvent(7),Jt.send(),Ue()},_e.getDebug=function(){return console.log("SpeedCurve RUM debugging documentation: https://support.speedcurve.com/docs/rum-js-api#luxgetdebug"),h.getEvents()},_e.forceSample=function(){h.logEvent(8),Oe(Me(!0))},_e.doUpdate=function(){},Lt.ac&&Lt.ac.length&&Lt.ac.forEach(Ve),void 0!==window.LUX_ae&&window.LUX_ae.forEach(Pt),h.logEvent(2),_e}(),window.LUX=Lt,Ut=o()}();
//# sourceMappingURL=lux.min.js.map
